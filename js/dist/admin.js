/*! For license information please see admin.js.LICENSE.txt */
(()=>{var t={22:(t,e,n)=>{var o=n(835)();t.exports=o;try{regeneratorRuntime=o}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},53:(t,e,n)=>{"use strict";var o=n(213);t.exports=n(572)("undefined"!=typeof window?window:null,o.redraw)},57:(t,e,n)=>{var o=n(143),r=n(305);t.exports=function(t,e,n,i,a){return new r(o().w(t,e,n,i),a||Promise)},t.exports.__esModule=!0,t.exports.default=t.exports},77:(t,e,n)=>{"use strict";function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}var i=n(611),a=n(170),l=a.delayedRemoval,s=a.domFor;t.exports=function(){var t,e,n={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function r(t){return t.ownerDocument}function a(t){return t.attrs&&t.attrs.xmlns||n[t.tag]}function u(t,e){if(t.state!==e)throw new Error("'vnode.state' must not be modified.")}function c(t){var e=t.state;try{return this.apply(e,arguments)}finally{u(t,e)}}function d(t){try{return r(t).activeElement}catch(t){return null}}function f(t,e,n,o,r,i,a){for(var l=n;l<o;l++){var s=e[l];null!=s&&p(t,s,r,a,i)}}function p(t,e,n,o,l){var s=e.tag;if("string"==typeof s)switch(e.state={},null!=e.attrs&&R(e.attrs,e,n),s){case"#":!function(t,e,n){e.dom=r(t).createTextNode(e.children),_(t,e.dom,n)}(t,e,l);break;case"<":m(t,e,o,l);break;case"[":!function(t,e,n,o,i){var a=r(t).createDocumentFragment();if(null!=e.children){var l=e.children;f(a,l,0,l.length,n,null,o)}e.dom=a.firstChild,e.domSize=a.childNodes.length,_(t,a,i)}(t,e,n,o,l);break;default:!function(t,e,n,o,i){var l=e.tag,s=e.attrs,u=e.is,c=(o=a(e)||o)?u?r(t).createElementNS(o,l,{is:u}):r(t).createElementNS(o,l):u?r(t).createElement(l,{is:u}):r(t).createElement(l);if(e.dom=c,null!=s&&function(t,e,n){for(var o in e)I(t,o,null,e[o],n)}(e,s,o),_(t,c,i),!E(e)&&null!=e.children){var d=e.children;f(c,d,0,d.length,n,null,o),"select"===e.tag&&null!=s&&function(t,e){if("value"in e)if(null===e.value)-1!==t.dom.selectedIndex&&(t.dom.value=null);else{var n=""+e.value;t.dom.value===n&&-1!==t.dom.selectedIndex||(t.dom.value=n)}"selectedIndex"in e&&I(t,"selectedIndex",null,e.selectedIndex,void 0)}(e,s)}}(t,e,n,o,l)}else!function(t,e,n,o,r){(function(t,e){var n;if("function"==typeof t.tag.view){if(t.state=Object.create(t.tag),null!=(n=t.state.view).$$reentrantLock$$)return;n.$$reentrantLock$$=!0}else{if(t.state=void 0,null!=(n=t.tag).$$reentrantLock$$)return;n.$$reentrantLock$$=!0,t.state=null!=t.tag.prototype&&"function"==typeof t.tag.prototype.view?new t.tag(t):t.tag(t)}if(R(t.state,t,e),null!=t.attrs&&R(t.attrs,t,e),t.instance=i.normalize(c.call(t.state.view,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");n.$$reentrantLock$$=null})(e,n),null!=e.instance?(p(t,e.instance,n,o,r),e.dom=e.instance.dom,e.domSize=null!=e.dom?e.instance.domSize:0):e.domSize=0}(t,e,n,o,l)}var h={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function m(t,e,n,o){var i=e.children.match(/^\s*?<(\w+)/im)||[],a=r(t).createElement(h[i[1]]||"div");"http://www.w3.org/2000/svg"===n?(a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",a=a.firstChild):a.innerHTML=e.children,e.dom=a.firstChild,e.domSize=a.childNodes.length;for(var l,s=r(t).createDocumentFragment();l=a.firstChild;)s.appendChild(l);_(t,s,o)}function v(t,e,n,o,r,i){if(e!==n&&(null!=e||null!=n))if(null==e||0===e.length)f(t,n,0,n.length,o,r,i);else if(null==n||0===n.length)D(t,e,0,e.length);else{var a=null!=e[0]&&null!=e[0].key,l=null!=n[0]&&null!=n[0].key,s=0,u=0;if(!a)for(;u<e.length&&null==e[u];)u++;if(!l)for(;s<n.length&&null==n[s];)s++;if(a!==l)D(t,e,u,e.length),f(t,n,s,n.length,o,r,i);else if(l){for(var c,d,h,m,v,b=e.length-1,_=n.length-1;b>=u&&_>=s&&(h=e[b],m=n[_],h.key===m.key);)h!==m&&g(t,h,m,o,r,i),null!=m.dom&&(r=m.dom),b--,_--;for(;b>=u&&_>=s&&(c=e[u],d=n[s],c.key===d.key);)u++,s++,c!==d&&g(t,c,d,o,x(e,u,r),i);for(;b>=u&&_>=s&&s!==_&&c.key===m.key&&h.key===d.key;)S(t,h,v=x(e,u,r)),h!==d&&g(t,h,d,o,v,i),++s<=--_&&S(t,c,r),c!==m&&g(t,c,m,o,r,i),null!=m.dom&&(r=m.dom),u++,h=e[--b],m=n[_],c=e[u],d=n[s];for(;b>=u&&_>=s&&h.key===m.key;)h!==m&&g(t,h,m,o,r,i),null!=m.dom&&(r=m.dom),_--,h=e[--b],m=n[_];if(s>_)D(t,e,u,b+1);else if(u>b)f(t,n,s,_+1,o,r,i);else{var E,C,T=r,N=_-s+1,k=new Array(N),I=0,A=0,M=2147483647,P=0;for(A=0;A<N;A++)k[A]=-1;for(A=_;A>=s;A--){null==E&&(E=y(e,u,b+1));var z=E[(m=n[A]).key];null!=z&&(M=z<M?z:-1,k[A-s]=z,h=e[z],e[z]=null,h!==m&&g(t,h,m,o,r,i),null!=m.dom&&(r=m.dom),P++)}if(r=T,P!==b-u+1&&D(t,e,u,b+1),0===P)f(t,n,s,_+1,o,r,i);else if(-1===M)for(C=function(t){var e=[0],n=0,o=0,r=0,i=w.length=t.length;for(r=0;r<i;r++)w[r]=t[r];for(r=0;r<i;++r)if(-1!==t[r]){var a=e[e.length-1];if(t[a]<t[r])w[r]=a,e.push(r);else{for(n=0,o=e.length-1;n<o;){var l=(n>>>1)+(o>>>1)+(n&o&1);t[e[l]]<t[r]?n=l+1:o=l}t[r]<t[e[n]]&&(n>0&&(w[r]=e[n-1]),e[n]=r)}}for(o=e[(n=e.length)-1];n-- >0;)e[n]=o,o=w[o];return w.length=0,e}(k),I=C.length-1,A=_;A>=s;A--)d=n[A],-1===k[A-s]?p(t,d,o,i,r):C[I]===A-s?I--:S(t,d,r),null!=d.dom&&(r=n[A].dom);else for(A=_;A>=s;A--)d=n[A],-1===k[A-s]&&p(t,d,o,i,r),null!=d.dom&&(r=n[A].dom)}}else{var j=e.length<n.length?e.length:n.length;for(s=s<u?s:u;s<j;s++)(c=e[s])===(d=n[s])||null==c&&null==d||(null==c?p(t,d,o,i,x(e,s+1,r)):null==d?O(t,c):g(t,c,d,o,x(e,s+1,r),i));e.length>j&&D(t,e,s,e.length),n.length>j&&f(t,n,s,n.length,o,r,i)}}}function g(t,e,n,o,r,l){var s=e.tag;if(s===n.tag&&e.is===n.is){if(n.state=e.state,n.events=e.events,function(t,e){do{var n;if(null!=t.attrs&&"function"==typeof t.attrs.onbeforeupdate&&void 0!==(n=c.call(t.attrs.onbeforeupdate,t,e))&&!n)break;if("string"!=typeof t.tag&&"function"==typeof t.state.onbeforeupdate&&void 0!==(n=c.call(t.state.onbeforeupdate,t,e))&&!n)break;return!1}while(0);return t.dom=e.dom,t.domSize=e.domSize,t.instance=e.instance,t.attrs=e.attrs,t.children=e.children,t.text=e.text,!0}(n,e))return;if("string"==typeof s)switch(null!=n.attrs&&F(n.attrs,n,o),s){case"#":!function(t,e){t.children.toString()!==e.children.toString()&&(t.dom.nodeValue=e.children),e.dom=t.dom}(e,n);break;case"<":!function(t,e,n,o,r){e.children!==n.children?(N(t,e),m(t,n,o,r)):(n.dom=e.dom,n.domSize=e.domSize)}(t,e,n,l,r);break;case"[":!function(t,e,n,o,r,i){v(t,e.children,n.children,o,r,i);var a=0,l=n.children;if(n.dom=null,null!=l){for(var s=0;s<l.length;s++){var u=l[s];null!=u&&null!=u.dom&&(null==n.dom&&(n.dom=u.dom),a+=u.domSize||1)}1!==a&&(n.domSize=a)}}(t,e,n,o,r,l);break;default:!function(t,e,n,o){var r=e.dom=t.dom;o=a(e)||o,function(t,e,n,o){var r;if(null!=e)for(var i in e===n&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),e)null==(r=e[i])||null!=n&&null!=n[i]||A(t,i,r,o);if(null!=n)for(var i in n)I(t,i,e&&e[i],n[i],o)}(e,t.attrs,e.attrs,o),E(e)||v(r,t.children,e.children,n,null,o)}(e,n,o,l)}else!function(t,e,n,o,r,a){if(n.instance=i.normalize(c.call(n.state.view,n)),n.instance===n)throw Error("A view cannot return the vnode it received as argument");F(n.state,n,o),null!=n.attrs&&F(n.attrs,n,o),null!=n.instance?(null==e.instance?p(t,n.instance,o,a,r):g(t,e.instance,n.instance,o,r,a),n.dom=n.instance.dom,n.domSize=n.instance.domSize):null!=e.instance?(O(t,e.instance),n.dom=void 0,n.domSize=0):(n.dom=e.dom,n.domSize=e.domSize)}(t,e,n,o,r,l)}else O(t,e),p(t,n,o,l,r)}function y(t,e,n){for(var o=Object.create(null);e<n;e++){var r=t[e];if(null!=r){var i=r.key;null!=i&&(o[i]=e)}}return o}var b,w=[];function x(t,e,n){for(;e<t.length;e++)if(null!=t[e]&&null!=t[e].dom)return t[e].dom;return n}function S(t,e,n){if(null!=e.dom){var i;if(null==e.domSize)i=e.dom;else{i=r(t).createDocumentFragment();for(var a,l=o(s(e));!(a=l()).done;){var u=a.value;i.appendChild(u)}}_(t,i,n)}}function _(t,e,n){null!=n?t.insertBefore(e,n):t.appendChild(e)}function E(t){if(null==t.attrs||null==t.attrs.contenteditable&&null==t.attrs.contentEditable)return!1;var e=t.children;if(null!=e&&1===e.length&&"<"===e[0].tag){var n=e[0].children;t.dom.innerHTML!==n&&(t.dom.innerHTML=n)}else if(null!=e&&0!==e.length)throw new Error("Child node of a contenteditable must be trusted.");return!0}function D(t,e,n,o){for(var r=n;r<o;r++){var i=e[r];null!=i&&O(t,i)}}function C(t,n,r,i){var a=n.state,d=c.call(r.onbeforeremove,n);if(null!=d){for(var f,p=e,h=o(s(n));!(f=h()).done;){var m=f.value;l.set(m,p)}i.v++,Promise.resolve(d).finally(function(){u(n,a),T(t,n,i)})}}function T(t,e,n){0===--n.v&&(k(e),N(t,e))}function O(t,e){var n={v:1};"string"!=typeof e.tag&&"function"==typeof e.state.onbeforeremove&&C(t,e,e.state,n),e.attrs&&"function"==typeof e.attrs.onbeforeremove&&C(t,e,e.attrs,n),T(t,e,n)}function N(t,e){if(null!=e.dom)if(null==e.domSize)t.removeChild(e.dom);else for(var n,r=o(s(e));!(n=r()).done;){var i=n.value;t.removeChild(i)}}function k(t){if("string"!=typeof t.tag&&"function"==typeof t.state.onremove&&c.call(t.state.onremove,t),t.attrs&&"function"==typeof t.attrs.onremove&&c.call(t.attrs.onremove,t),"string"!=typeof t.tag)null!=t.instance&&k(t.instance);else{null!=t.events&&(t.events._=null);var e=t.children;if(Array.isArray(e))for(var n=0;n<e.length;n++){var o=e[n];null!=o&&k(o)}}}function I(t,e,n,o,r){if("key"!==e&&null!=o&&!M(e)&&(n!==o||function(t,e){return"value"===e||"checked"===e||"selectedIndex"===e||"selected"===e&&(t.dom===d(t.dom)||"option"===t.tag&&t.dom.parentNode===d(t.dom))}(t,e)||"object"==typeof o)){if("o"===e[0]&&"n"===e[1])return B(t,e,o);if("xlink:"===e.slice(0,6))t.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),o);else if("style"===e)z(t.dom,n,o);else if(P(t,e,r)){if("value"===e){if(("input"===t.tag||"textarea"===t.tag)&&t.dom.value===""+o)return;if("select"===t.tag&&null!==n&&t.dom.value===""+o)return;if("option"===t.tag&&null!==n&&t.dom.value===""+o)return;if("input"===t.tag&&"file"===t.attrs.type&&""+o!="")return void console.error("`value` is read-only on file inputs!")}"input"===t.tag&&"type"===e?t.dom.setAttribute(e,o):t.dom[e]=o}else"boolean"==typeof o?o?t.dom.setAttribute(e,""):t.dom.removeAttribute(e):t.dom.setAttribute("className"===e?"class":e,o)}}function A(t,e,n,o){if("key"!==e&&null!=n&&!M(e))if("o"===e[0]&&"n"===e[1])B(t,e,void 0);else if("style"===e)z(t.dom,n,null);else if(!P(t,e,o)||"className"===e||"title"===e||"value"===e&&("option"===t.tag||"select"===t.tag&&-1===t.dom.selectedIndex&&t.dom===d(t.dom))||"input"===t.tag&&"type"===e){var r=e.indexOf(":");-1!==r&&(e=e.slice(r+1)),!1!==n&&t.dom.removeAttribute("className"===e?"class":e)}else t.dom[e]=null}function M(t){return"oninit"===t||"oncreate"===t||"onupdate"===t||"onremove"===t||"onbeforeremove"===t||"onbeforeupdate"===t}function P(t,e,n){return void 0===n&&(t.tag.indexOf("-")>-1||t.is||"href"!==e&&"list"!==e&&"form"!==e&&"width"!==e&&"height"!==e)&&e in t.dom}function z(t,e,n){if(e===n);else if(null==n)t.style="";else if("object"!=typeof n)t.style=n;else if(null==e||"object"!=typeof e)for(var o in t.style="",n)null!=(r=n[o])&&(o.includes("-")?t.style.setProperty(o,String(r)):t.style[o]=String(r));else{for(var o in e)null!=e[o]&&null==n[o]&&(o.includes("-")?t.style.removeProperty(o):t.style[o]="");for(var o in n){var r;null!=(r=n[o])&&(r=String(r))!==String(e[o])&&(o.includes("-")?t.style.setProperty(o,r):t.style[o]=r)}}}function j(){this._=t}function B(e,n,o){if(null!=e.events){if(e.events._=t,e.events[n]===o)return;null==o||"function"!=typeof o&&"object"!=typeof o?(null!=e.events[n]&&e.dom.removeEventListener(n.slice(2),e.events,!1),e.events[n]=void 0):(null==e.events[n]&&e.dom.addEventListener(n.slice(2),e.events,!1),e.events[n]=o)}else null==o||"function"!=typeof o&&"object"!=typeof o||(e.events=new j,e.dom.addEventListener(n.slice(2),e.events,!1),e.events[n]=o)}function R(t,e,n){"function"==typeof t.oninit&&c.call(t.oninit,e),"function"==typeof t.oncreate&&n.push(c.bind(t.oncreate,e))}function F(t,e,n){"function"==typeof t.onupdate&&n.push(c.bind(t.onupdate,e))}return j.prototype=Object.create(null),j.prototype.handleEvent=function(t){var e,n=this["on"+t.type];"function"==typeof n?e=n.call(t.currentTarget,t):"function"==typeof n.handleEvent&&n.handleEvent(t);var o=this;null!=o._&&(!1!==t.redraw&&(0,o._)(),null!=e&&"function"==typeof e.then&&Promise.resolve(e).then(function(){null!=o._&&!1!==t.redraw&&(0,o._)()})),!1===e&&(t.preventDefault(),t.stopPropagation())},function(n,o,r){if(!n)throw new TypeError("DOM element being rendered to does not exist.");if(null!=b&&n.contains(b))throw new TypeError("Node is currently being rendered to and thus is locked.");var a=t,l=b,s=[],u=d(n),c=n.namespaceURI;b=n,t="function"==typeof r?r:void 0,e={};try{null==n.vnodes&&(n.textContent=""),o=i.normalizeChildren(Array.isArray(o)?o:[o]),v(n,n.vnodes,o,s,null,"http://www.w3.org/1999/xhtml"===c?void 0:c),n.vnodes=o,null!=u&&d(n)!==u&&"function"==typeof u.focus&&u.focus();for(var f=0;f<s.length;f++)s[f]()}finally{t=a,b=l}}}},130:t=>{"use strict";t.exports=function(t){if("[object Object]"!==Object.prototype.toString.call(t))return"";var e=[];for(var n in t)o(n,t[n]);return e.join("&");function o(t,n){if(Array.isArray(n))for(var r=0;r<n.length;r++)o(t+"["+r+"]",n[r]);else if("[object Object]"===Object.prototype.toString.call(n))for(var r in n)o(t+"["+r+"]",n[r]);else e.push(encodeURIComponent(t)+(null!=n&&""!==n?"="+encodeURIComponent(n):""))}}},131:(t,e,n)=>{var o=n(57);t.exports=function(t,e,n,r,i){var a=o(t,e,n,r,i);return a.next().then(function(t){return t.done?t.value:a.next()})},t.exports.__esModule=!0,t.exports.default=t.exports},140:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},143:(t,e,n)=>{var o=n(144);function r(){var e,n,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",l=i.toStringTag||"@@toStringTag";function s(t,r,i,a){var l=r&&r.prototype instanceof c?r:c,s=Object.create(l.prototype);return o(s,"_invoke",function(t,o,r){var i,a,l,s=0,c=r||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,a=0,l=e,f.n=n,u}};function p(t,o){for(a=t,l=o,n=0;!d&&s&&!r&&n<c.length;n++){var r,i=c[n],p=f.p,h=i[2];t>3?(r=h===o)&&(l=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=p&&((r=t<2&&p<i[1])?(a=0,f.v=o,f.n=i[1]):p<h&&(r=t<3||i[0]>o||o>h)&&(i[4]=t,i[5]=o,f.n=h,a=0))}if(r||t>1)return u;throw d=!0,o}return function(r,c,h){if(s>1)throw TypeError("Generator is already running");for(d&&1===c&&p(c,h),a=c,l=h;(n=a<2?e:l)||!d;){i||(a?a<3?(a>1&&(f.n=-1),p(a,l)):f.n=l:f.v=l);try{if(s=2,i){if(a||(r="next"),n=i[r]){if(!(n=n.call(i,l)))throw TypeError("iterator result is not an object");if(!n.done)return n;l=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),a=1);i=e}else if((n=(d=f.n<0)?l:t.call(o,f))!==u)break}catch(t){i=e,a=1,l=t}finally{s=1}}return{value:n,done:d}}}(t,i,a),!0),s}var u={};function c(){}function d(){}function f(){}n=Object.getPrototypeOf;var p=[][a]?n(n([][a]())):(o(n={},a,function(){return this}),n),h=f.prototype=c.prototype=Object.create(p);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,o(t,l,"GeneratorFunction")),t.prototype=Object.create(h),t}return d.prototype=f,o(h,"constructor",f),o(f,"constructor",d),d.displayName="GeneratorFunction",o(f,l,"GeneratorFunction"),o(h),o(h,l,"Generator"),o(h,a,function(){return this}),o(h,"toString",function(){return"[object Generator]"}),(t.exports=r=function(){return{w:s,m}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},144:t=>{function e(n,o,r,i){var a=Object.defineProperty;try{a({},"",{})}catch(n){a=0}t.exports=e=function(t,n,o,r){function i(n,o){e(t,n,function(t){return this._invoke(n,o,t)})}n?a?a(t,n,{value:o,enumerable:!r,configurable:!r,writable:!r}):t[n]=o:(i("next",0),i("throw",1),i("return",2))},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,o,r,i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},145:t=>{"use strict";function e(t){try{return decodeURIComponent(t)}catch(e){return t}}t.exports=function(t){if(""===t||null==t)return{};"?"===t.charAt(0)&&(t=t.slice(1));for(var n=t.split("&"),o={},r={},i=0;i<n.length;i++){var a=n[i].split("="),l=e(a[0]),s=2===a.length?e(a[1]):"";"true"===s?s=!0:"false"===s&&(s=!1);var u=l.split(/\]\[?|\[/),c=r;l.indexOf("[")>-1&&u.pop();for(var d=0;d<u.length;d++){var f=u[d],p=u[d+1],h=""==p||!isNaN(parseInt(p,10));if(""===f)null==o[l=u.slice(0,d).join()]&&(o[l]=Array.isArray(c)?c.length:0),f=o[l]++;else if("__proto__"===f)break;if(d===u.length-1)c[f]=s;else{var m=Object.getOwnPropertyDescriptor(c,f);null!=m&&(m=m.value),null==m&&(c[f]=m=h?[]:{}),c=m}}}return r}},169:(t,e,n)=>{"use strict";var o=n(213);t.exports=n(606)("undefined"!=typeof window?window:null,o)},170:(t,e,n)=>{"use strict";n.r(e);var o=n(22),r=n.n(o);t=n.hmd(t);var i=r().mark(l),a=new WeakMap;function l(t){var e,n,o,l;return r().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e=t.dom,n=t.domSize,o=a.get(e),null==e){r.next=5;break}case 1:if(l=e.nextSibling,a.get(e)!==o){r.next=3;break}return r.next=2,e;case 2:n--;case 3:e=l;case 4:if(n){r.next=1;break}case 5:case"end":return r.stop()}},i)}t.exports={delayedRemoval:a,domFor:l}},213:(t,e,n)=>{"use strict";var o=n(694);t.exports=n(996)(o,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:null,"undefined"!=typeof console?console:null)},240:(t,e,n)=>{"use strict";var o=n(611),r=n(620),i=n(525),a=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,l=Object.create(null);t.exports=function(t){if(null==t||"string"!=typeof t&&"function"!=typeof t&&"function"!=typeof t.view)throw Error("The selector must be either a string or a component.");var e=r.apply(1,arguments);return"string"==typeof t&&(e.children=o.normalizeChildren(e.children),"["!==t)?function(t,e){var n=e.attrs,o=i.call(n,"class"),r=o?n.class:n.className;return e.tag=t.tag,null!=t.attrs?(n=Object.assign({},t.attrs,n),null==r&&null==t.attrs.className||(n.className=null!=r?null!=t.attrs.className?String(t.attrs.className)+" "+String(r):r:null!=t.attrs.className?t.attrs.className:null)):null!=r&&(n.className=r),o&&(n.class=null),"input"===t.tag&&i.call(n,"type")&&(n=Object.assign({type:n.type},n)),e.is=n.is,e.attrs=n,e}(l[t]||function(t){for(var e,n="div",o=[],r={};e=a.exec(t);){var s=e[1],u=e[2];if(""===s&&""!==u)n=u;else if("#"===s)r.id=u;else if("."===s)o.push(u);else if("["===e[3][0]){var c=e[6];c&&(c=c.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===e[4]?o.push(c):r[e[4]]=""===c?c:c||!0}}return o.length>0&&(r.className=o.join(" ")),function(t){for(var e in t)if(i.call(t,e))return!1;return!0}(r)&&(r=null),l[t]={tag:n,attrs:r}}(t),e):(e.tag=t,e)}},251:(t,e,n)=>{"use strict";var o=n(525),r=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");t.exports=function(t,e){var n={};if(null!=e)for(var i in t)o.call(t,i)&&!r.test(i)&&e.indexOf(i)<0&&(n[i]=t[i]);else for(var i in t)o.call(t,i)&&!r.test(i)&&(n[i]=t[i]);return n}},289:(t,e,n)=>{"use strict";var o=n(240);o.trust=n(699),o.fragment=n(881),t.exports=o},305:(t,e,n)=>{var o=n(482),r=n(144);t.exports=function t(e,n){function i(t,r,a,l){try{var s=e[t](r),u=s.value;return u instanceof o?n.resolve(u.v).then(function(t){i("next",t,a,l)},function(t){i("throw",t,a,l)}):n.resolve(u).then(function(t){s.value=t,a(s)},function(t){return i("throw",t,a,l)})}catch(t){l(t)}}var a;this.next||(r(t.prototype),r(t.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),r(this,"_invoke",function(t,e,o){function r(){return new n(function(e,n){i(t,o,e,n)})}return a=a?a.then(r,r):r()},!0)},t.exports.__esModule=!0,t.exports.default=t.exports},409:(t,e,n)=>{"use strict";var o=n(130);t.exports=function(t,e){if(/:([^\/\.-]+)(\.{3})?:/.test(t))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(null==e)return t;var n=t.indexOf("?"),r=t.indexOf("#"),i=r<0?t.length:r,a=n<0?i:n,l=t.slice(0,a),s={};Object.assign(s,e);var u=l.replace(/:([^\/\.-]+)(\.{3})?/g,function(t,n,o){return delete s[n],null==e[n]?t:o?e[n]:encodeURIComponent(String(e[n]))}),c=u.indexOf("?"),d=u.indexOf("#"),f=d<0?u.length:d,p=c<0?f:c,h=u.slice(0,p);n>=0&&(h+=t.slice(n,i)),c>=0&&(h+=(n<0?"?":"&")+u.slice(c,f));var m=o(s);return m&&(h+=(n<0&&c<0?"?":"&")+m),r>=0&&(h+=t.slice(r)),d>=0&&(h+=(r<0?"":"&")+u.slice(d)),h}},472:(t,e,n)=>{"use strict";var o=n(289),r=n(53),i=n(213),a=n(170),l=function(){return o.apply(this,arguments)};l.m=o,l.trust=o.trust,l.fragment=o.fragment,l.Fragment="[",l.mount=i.mount,l.route=n(169),l.render=n(694),l.redraw=i.redraw,l.request=r.request,l.parseQueryString=n(145),l.buildQueryString=n(130),l.parsePathname=n(890),l.buildPathname=n(409),l.vnode=n(611),l.censor=n(251),l.domFor=a.domFor,t.exports=l},482:t=>{t.exports=function(t,e){this.v=t,this.k=e},t.exports.__esModule=!0,t.exports.default=t.exports},525:t=>{"use strict";t.exports={}.hasOwnProperty},572:(t,e,n)=>{"use strict";var o=n(409),r=n(525);t.exports=function(t,e){function n(t){return new Promise(t)}function i(t,e){for(var n in t.headers)if(r.call(t.headers,n)&&n.toLowerCase()===e)return!0;return!1}return n.prototype=Promise.prototype,n.__proto__=Promise,{request:function(a,l){"string"!=typeof a?(l=a,a=a.url):null==l&&(l={});var s=function(e,n){return new Promise(function(a,l){e=o(e,n.params);var s,u=null!=n.method?n.method.toUpperCase():"GET",c=n.body,d=(null==n.serialize||n.serialize===JSON.serialize)&&!(c instanceof t.FormData||c instanceof t.URLSearchParams),f=n.responseType||("function"==typeof n.extract?"":"json"),p=new t.XMLHttpRequest,h=!1,m=!1,v=p,g=p.abort;for(var y in p.abort=function(){h=!0,g.call(this)},p.open(u,e,!1!==n.async,"string"==typeof n.user?n.user:void 0,"string"==typeof n.password?n.password:void 0),d&&null!=c&&!i(n,"content-type")&&p.setRequestHeader("Content-Type","application/json; charset=utf-8"),"function"==typeof n.deserialize||i(n,"accept")||p.setRequestHeader("Accept","application/json, text/*"),n.withCredentials&&(p.withCredentials=n.withCredentials),n.timeout&&(p.timeout=n.timeout),p.responseType=f,n.headers)r.call(n.headers,y)&&p.setRequestHeader(y,n.headers[y]);p.onreadystatechange=function(t){if(!h&&4===t.target.readyState)try{var o,r=t.target.status>=200&&t.target.status<300||304===t.target.status||/^file:\/\//i.test(e),i=t.target.response;if("json"===f){if(!t.target.responseType&&"function"!=typeof n.extract)try{i=JSON.parse(t.target.responseText)}catch(t){i=null}}else f&&"text"!==f||null==i&&(i=t.target.responseText);if("function"==typeof n.extract?(i=n.extract(t.target,n),r=!0):"function"==typeof n.deserialize&&(i=n.deserialize(i)),r){if("function"==typeof n.type)if(Array.isArray(i))for(var s=0;s<i.length;s++)i[s]=new n.type(i[s]);else i=new n.type(i);a(i)}else{var u=function(){try{o=t.target.responseText}catch(t){o=i}var e=new Error(o);e.code=t.target.status,e.response=i,l(e)};0===p.status?setTimeout(function(){m||u()}):u()}}catch(t){l(t)}},p.ontimeout=function(t){m=!0;var e=new Error("Request timed out");e.code=t.target.status,l(e)},"function"==typeof n.config&&(p=n.config(p,n,e)||p)!==v&&(s=p.abort,p.abort=function(){h=!0,s.call(this)}),null==c?p.send():"function"==typeof n.serialize?p.send(n.serialize(c)):c instanceof t.FormData||c instanceof t.URLSearchParams?p.send(c):p.send(JSON.stringify(c))})}(a,l);if(!0===l.background)return s;var u=0;function c(){0===--u&&"function"==typeof e&&e()}return function t(e){var o=e.then;return e.constructor=n,e.then=function(){u++;var n=o.apply(e,arguments);return n.then(c,function(t){if(c(),0===u)throw t}),t(n)},e}(s)}}}},606:(t,e,n)=>{"use strict";var o=n(611),r=n(240),i=n(409),a=n(890),l=n(902),s=n(251);function u(t){try{return decodeURIComponent(t)}catch(e){return t}}t.exports=function(t,e){var n,c,d,f,p,h,m,v,g=null==t?null:"function"==typeof t.setImmediate?t.setImmediate:t.setTimeout,y=Promise.resolve(),b=!1,w=!1,x=!1,S={onremove:function(){w=x=!1,t.removeEventListener("popstate",D,!1)},view:function(){var t=o(p,h.key,h);return f?f.render(t):[t]}},_=C.SKIP={};function E(){b=!1;var o=t.location.hash;"#"!==C.prefix[0]&&(o=t.location.search+o,"?"!==C.prefix[0]&&"/"!==(o=t.location.pathname+o)[0]&&(o="/"+o));var r=o.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,u).slice(C.prefix.length),i=a(r);function l(t){console.error(t),C.set(d,null,{replace:!0})}Object.assign(i.params,t.history.state),function t(o){for(;o<c.length;o++)if(c[o].check(i)){var a=c[o].component,s=c[o].route,u=a,g=v=function(l){if(g===v){if(l===_)return t(o+1);p=null==l||"function"!=typeof l.view&&"function"!=typeof l?"div":l,h=i.params,m=r,v=null,f=a.render?a:null,x?e.redraw():(x=!0,e.mount(n,S))}};return void(a.view||"function"==typeof a?(a={},g(u)):a.onmatch?y.then(function(){return a.onmatch(i.params,r,s)}).then(g,r===d?null:l):g())}if(r===d)throw new Error("Could not resolve default route "+d+".");C.set(d,null,{replace:!0})}(0)}function D(){b||(b=!0,g(E))}function C(e,o,r){if(!e)throw new TypeError("DOM element being rendered to does not exist.");if(c=Object.keys(r).map(function(t){if("/"!==t[0])throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(t))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:t,component:r[t],check:l(t)}}),d=o,null!=o){var i=a(o);if(!c.some(function(t){return t.check(i)}))throw new ReferenceError("Default route doesn't match any known routes.")}n=e,t.addEventListener("popstate",D,!1),w=!0,E()}return C.set=function(e,n,o){if(null!=v&&((o=o||{}).replace=!0),v=null,e=i(e,n),w){D();var r=o?o.state:null,a=o?o.title:null;o&&o.replace?t.history.replaceState(r,a,C.prefix+e):t.history.pushState(r,a,C.prefix+e)}else t.location.href=C.prefix+e},C.get=function(){return m},C.prefix="#!",C.Link={view:function(t){var e,n,o,a=r(t.attrs.selector||"a",s(t.attrs,["options","params","selector","onclick"]),t.children);return(a.attrs.disabled=Boolean(a.attrs.disabled))?(a.attrs.href=null,a.attrs["aria-disabled"]="true"):(e=t.attrs.options,n=t.attrs.onclick,o=i(a.attrs.href,t.attrs.params),a.attrs.href=C.prefix+o,a.attrs.onclick=function(t){var r;"function"==typeof n?r=n.call(t.currentTarget,t):null==n||"object"!=typeof n||"function"==typeof n.handleEvent&&n.handleEvent(t),!1===r||t.defaultPrevented||0!==t.button&&0!==t.which&&1!==t.which||t.currentTarget.target&&"_self"!==t.currentTarget.target||t.ctrlKey||t.metaKey||t.shiftKey||t.altKey||(t.preventDefault(),t.redraw=!1,C.set(o,null,e))}),a}},C.param=function(t){return h&&null!=t?h[t]:h},C}},611:t=>{"use strict";function e(t,e,n,o,r,i){return{tag:t,key:e,attrs:n,children:o,text:r,dom:i,is:void 0,domSize:void 0,state:void 0,events:void 0,instance:void 0}}e.normalize=function(t){return Array.isArray(t)?e("[",void 0,void 0,e.normalizeChildren(t),void 0,void 0):null==t||"boolean"==typeof t?null:"object"==typeof t?t:e("#",void 0,void 0,String(t),void 0,void 0)},e.normalizeChildren=function(t){var n=[];if(t.length){for(var o=null!=t[0]&&null!=t[0].key,r=1;r<t.length;r++)if((null!=t[r]&&null!=t[r].key)!==o)throw new TypeError(!o||null!=t[r]&&"boolean"!=typeof t[r]?"In fragments, vnodes must either all have keys or none have keys.":"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.");for(r=0;r<t.length;r++)n[r]=e.normalize(t[r])}return n},t.exports=e},620:(t,e,n)=>{"use strict";var o=n(611);t.exports=function(){var t,e=arguments[this],n=this+1;if(null==e?e={}:("object"!=typeof e||null!=e.tag||Array.isArray(e))&&(e={},n=this),arguments.length===n+1)t=arguments[n],Array.isArray(t)||(t=[t]);else for(t=[];n<arguments.length;)t.push(arguments[n++]);return o("",e.key,e,t)}},694:(t,e,n)=>{"use strict";t.exports=n(77)("undefined"!=typeof window?window:null)},699:(t,e,n)=>{"use strict";var o=n(611);t.exports=function(t){return null==t&&(t=""),o("<",void 0,void 0,t,void 0,void 0)}},721:(t,e,n)=>{var o=n(140).default;t.exports=function(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(o(t)+" is not iterable")},t.exports.__esModule=!0,t.exports.default=t.exports},723:t=>{t.exports=function(t){var e=Object(t),n=[];for(var o in e)n.unshift(o);return function t(){for(;n.length;)if((o=n.pop())in e)return t.value=o,t.done=!1,t;return t.done=!0,t}},t.exports.__esModule=!0,t.exports.default=t.exports},835:(t,e,n)=>{var o=n(482),r=n(143),i=n(131),a=n(57),l=n(305),s=n(723),u=n(721);function c(){"use strict";var e=r(),n=e.m(c),d=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function f(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))}var p={throw:1,return:2,break:3,continue:3};function h(t){var e,n;return function(o){e||(e={stop:function(){return n(o.a,2)},catch:function(){return o.v},abrupt:function(t,e){return n(o.a,p[t],e)},delegateYield:function(t,r,i){return e.resultName=r,n(o.d,u(t),i)},finish:function(t){return n(o.f,t)}},n=function(t,n,r){o.p=e.prev,o.n=e.next;try{return t(n,r)}finally{e.next=o.n}}),e.resultName&&(e[e.resultName]=o.v,e.resultName=void 0),e.sent=o.v,e.next=o.n;try{return t.call(this,e)}finally{o.p=e.prev,o.n=e.next}}}return(t.exports=c=function(){return{wrap:function(t,n,o,r){return e.w(h(t),n,o,r&&r.reverse())},isGeneratorFunction:f,mark:e.m,awrap:function(t,e){return new o(t,e)},AsyncIterator:l,async:function(t,e,n,o,r){return(f(e)?a:i)(h(t),e,n,o,r)},keys:s,values:u}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=c,t.exports.__esModule=!0,t.exports.default=t.exports},881:(t,e,n)=>{"use strict";var o=n(611),r=n(620);t.exports=function(){var t=r.apply(0,arguments);return t.tag="[",t.children=o.normalizeChildren(t.children),t}},890:(t,e,n)=>{"use strict";var o=n(145);t.exports=function(t){var e=t.indexOf("?"),n=t.indexOf("#"),r=n<0?t.length:n,i=e<0?r:e,a=t.slice(0,i).replace(/\/{2,}/g,"/");return a?"/"!==a[0]&&(a="/"+a):a="/",{path:a,params:e<0?{}:o(t.slice(e+1,r))}}},902:(t,e,n)=>{"use strict";var o=n(890);t.exports=function(t){var e=o(t),n=Object.keys(e.params),r=[],i=new RegExp("^"+e.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(t,e,n){return null==e?"\\"+t:(r.push({k:e,r:"..."===n}),"..."===n?"(.*)":"."===n?"([^/]+)\\.":"([^/]+)"+(n||""))})+"\\/?$");return function(t){for(var o=0;o<n.length;o++)if(e.params[n[o]]!==t.params[n[o]])return!1;if(!r.length)return i.test(t.path);var a=i.exec(t.path);if(null==a)return!1;for(o=0;o<r.length;o++)t.params[r[o].k]=r[o].r?a[o+1]:decodeURIComponent(a[o+1]);return!0}}},996:(t,e,n)=>{"use strict";var o=n(611);t.exports=function(t,e,n){var r=[],i=!1,a=-1;function l(){for(a=0;a<r.length;a+=2)try{t(r[a],o(r[a+1]),s)}catch(t){n.error(t)}a=-1}function s(){i||(i=!0,e(function(){i=!1,l()}))}return s.sync=l,{mount:function(e,n){if(null!=n&&null==n.view&&"function"!=typeof n)throw new TypeError("m.mount expects a component, not a vnode.");var i=r.indexOf(e);i>=0&&(r.splice(i,2),i<=a&&(a-=2),t(e,[])),null!=n&&(r.push(e,n),t(e,o(n),s))},redraw:s}}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,loaded:!1,exports:{}};return t[o](i,i.exports,n),i.loaded=!0,i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";const t=flarum.core.compat["admin/app"];var e=n.n(t);function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o(t,e)}const i=flarum.core.compat["admin/components/ExtensionPage"];var a=n.n(i);const l=flarum.core.compat["common/components/Button"];var s=n.n(l);const u=flarum.core.compat["common/components/Modal"];var c=n.n(u);const d=flarum.core.compat["common/utils/Stream"];var f=n.n(d),p=n(472),h=n.n(p),m=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).ButtonsCustomizationItemData=void 0,e.settingType=void 0,e.itemName=void 0,e.itemUrl=void 0,e.itemIcon=void 0,e.itemColor=void 0,e.loading=void 0,e}r(n,t);var o=n.prototype;return o.oninit=function(e){t.prototype.oninit.call(this,e),this.ButtonsCustomizationItemData=this.attrs.ButtonsCustomizationItemData,this.settingType="add",this.loading=!1,this.ButtonsCustomizationItemData?(this.settingType="edit",this.itemName=f()(this.ButtonsCustomizationItemData.name()),this.itemUrl=f()(this.ButtonsCustomizationItemData.url()),this.itemIcon=f()(this.ButtonsCustomizationItemData.icon()),this.itemColor=f()(this.ButtonsCustomizationItemData.color())):(this.itemName=f()(""),this.itemUrl=f()(""),this.itemIcon=f()(""),this.itemColor=f()(""))},o.className=function(){return"Modal--medium"},o.title=function(){return"add"===this.settingType?e().translator.trans("client1-buttons-customization.admin.settings.item-add"):e().translator.trans("client1-buttons-customization.admin.settings.item-edit")},o.content=function(){var t=this;return h()("div",{className:"Modal-body"},[h()("div",{className:"Form"},[h()("div",{className:"Form-group",style:"text-align: center;"},[h()("div",[h()("div",{className:"GuaGuaLeSettingsLabel"},e().translator.trans("client1-buttons-customization.admin.settings.item-name")),h()("input",{maxlength:255,required:!0,className:"FormControl",value:this.itemName(),oninput:function(e){return t.itemName(e.target.value)}}),h()("div",{className:"GuaGuaLeSettingsLabel"},e().translator.trans("client1-buttons-customization.admin.settings.item-url")),h()("input",{maxlength:500,required:!0,className:"FormControl",value:this.itemUrl(),oninput:function(e){return t.itemUrl(e.target.value)}}),h()("div",{className:"GuaGuaLeSettingsLabel"},e().translator.trans("client1-buttons-customization.admin.settings.item-icon")),h()("input",{maxlength:50,required:!0,className:"FormControl",value:this.itemIcon(),oninput:function(e){return t.itemIcon(e.target.value)}})])]),h()("div",{className:"Form-group",style:"text-align: center;"},[h()(s(),{className:"Button Button--primary",type:"submit",loading:this.loading},e().translator.trans("client1-buttons-customization.admin.confirm"))," ",h()(s(),{className:"Button guagualeButton--gray",loading:this.loading,onclick:function(){return t.hide()}},e().translator.trans("client1-buttons-customization.admin.cancel"))])])])},o.onsubmit=function(t){var n=this;t.preventDefault(),this.loading=!0,"edit"===this.settingType&&this.ButtonsCustomizationItemData?this.ButtonsCustomizationItemData.save({name:this.itemName(),url:this.itemUrl(),icon:this.itemIcon(),color:this.itemColor()}).then(function(){return n.hide()}).catch(function(t){n.loading=!1,n.handleErrors(t)}):e().store.createRecord("buttonsCustomizationList").save({name:this.itemName(),url:this.itemUrl(),icon:this.itemIcon(),color:this.itemColor()}).then(function(){location.reload()}).catch(function(t){n.loading=!1,n.handleErrors(t)})},o.handleErrors=function(t){console.error("ButtonsCustomizationAddModal error",t),e().alerts.show({type:"error"},e().translator.trans("client1-buttons-customization.admin.save-error"))},n}(c());m.isDismissible=!1;const v=flarum.core.compat["common/Component"];var g=n.n(v),y=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).ButtonsCustomizationItemData=void 0,e.loading=void 0,e}r(n,t);var o=n.prototype;return o.oninit=function(e){t.prototype.oninit.call(this,e),this.ButtonsCustomizationItemData=this.attrs.ButtonsCustomizationItemData,this.loading=!1},o.className=function(){return"Modal--small"},o.title=function(){return e().translator.trans("client1-buttons-customization.admin.settings.item-delete-confirmation")},o.content=function(){var t=this;return h()("div",{className:"Modal-body"},[h()("div",{className:"Form-group",style:"text-align: center;"},[h()(s(),{className:"Button Button--primary",type:"submit",loading:this.loading},e().translator.trans("client1-buttons-customization.admin.confirm"))," ",h()(s(),{className:"Button guagualeButton--gray",loading:this.loading,onclick:function(){return t.hide()}},e().translator.trans("client1-buttons-customization.admin.cancel"))])])},o.onsubmit=function(t){t.preventDefault(),this.loading=!0,this.ButtonsCustomizationItemData.delete().then(function(){location.reload()})},n}(c());y.isDismissible=!1;var b=function(t){function n(){return t.apply(this,arguments)||this}r(n,t);var o=n.prototype;return o.view=function(){var t=this,n=this.attrs.ButtonsCustomizationItemData,o=n.id(),r=n.name(),i=n.url(),a=n.icon();return h()("div",{style:"border: 1px dotted var(--control-color);padding: 10px;border-radius: 4px;"},[h()("div",[h()("div",{style:"padding-top: 5px;"},[h()(s(),{className:"Button Button--primary",onclick:function(){return t.editItem(n)}},e().translator.trans("client1-buttons-customization.admin.settings.item-edit"))," ",h()(s(),{className:"Button Button--danger",style:"font-weight:bold;width:66px;",onclick:function(){return t.deleteItem(n)}},e().translator.trans("client1-buttons-customization.admin.settings.item-delete"))," ",h()("b",e().translator.trans("client1-buttons-customization.admin.settings.item-id")+": "),o," | ",h()("i",{className:a})," ",h()("b",e().translator.trans("client1-buttons-customization.admin.settings.item-name")+": "),r," | ",h()("b",e().translator.trans("client1-buttons-customization.admin.settings.item-url")+": "),i," "])])])},o.editItem=function(t){e().modal.show(m,{ButtonsCustomizationItemData:t})},o.deleteItem=function(t){e().modal.show(y,{ButtonsCustomizationItemData:t})},n}(g());function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach(function(e){_(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E(){return E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},E.apply(this,arguments)}function D(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var C=D(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),T=D(/Edge/i),O=D(/firefox/i),N=D(/safari/i)&&!D(/chrome/i)&&!D(/android/i),k=D(/iP(ad|od|hone)/i),I=D(/chrome/i)&&D(/android/i),A={capture:!1,passive:!1};function M(t,e,n){t.addEventListener(e,n,!C&&A)}function P(t,e,n){t.removeEventListener(e,n,!C&&A)}function z(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function j(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function B(t,e,n,o){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&z(t,e):z(t,e))||o&&t===n)return t;if(t===n)break}while(t=j(t))}return null}var R,F=/\s+/g;function L(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(F," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace(F," ")}}function Y(t,e,n){var o=t&&t.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in o||-1!==e.indexOf("webkit")||(e="-webkit-"+e),o[e]=n+("string"==typeof n?"":"px")}}function X(t,e){var n="";if("string"==typeof t)n=t;else do{var o=Y(t,"transform");o&&"none"!==o&&(n=o+" "+n)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function H(t,e,n){if(t){var o=t.getElementsByTagName(e),r=0,i=o.length;if(n)for(;r<i;r++)n(o[r],r);return o}return[]}function $(){return document.scrollingElement||document.documentElement}function U(t,e,n,o,r){if(t.getBoundingClientRect||t===window){var i,a,l,s,u,c,d;if(t!==window&&t.parentNode&&t!==$()?(a=(i=t.getBoundingClientRect()).top,l=i.left,s=i.bottom,u=i.right,c=i.height,d=i.width):(a=0,l=0,s=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(r=r||t.parentNode,!C))do{if(r&&r.getBoundingClientRect&&("none"!==Y(r,"transform")||n&&"static"!==Y(r,"position"))){var f=r.getBoundingClientRect();a-=f.top+parseInt(Y(r,"border-top-width")),l-=f.left+parseInt(Y(r,"border-left-width")),s=a+i.height,u=l+i.width;break}}while(r=r.parentNode);if(o&&t!==window){var p=X(r||t),h=p&&p.a,m=p&&p.d;p&&(s=(a/=m)+(c/=m),u=(l/=h)+(d/=h))}return{top:a,left:l,bottom:s,right:u,width:d,height:c}}}function G(t,e,n){for(var o=J(t,!0),r=U(t)[e];o;){var i=U(o)[n];if(!("top"===n||"left"===n?r>=i:r<=i))return o;if(o===$())break;o=J(o,!1)}return!1}function W(t,e,n,o){for(var r=0,i=0,a=t.children;i<a.length;){if("none"!==a[i].style.display&&a[i]!==te.ghost&&(o||a[i]!==te.dragged)&&B(a[i],n.draggable,t,!1)){if(r===e)return a[i];r++}i++}return null}function q(t,e){for(var n=t.lastElementChild;n&&(n===te.ghost||"none"===Y(n,"display")||e&&!z(n,e));)n=n.previousElementSibling;return n||null}function K(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===te.clone||e&&!z(t,e)||n++;return n}function V(t){var e=0,n=0,o=$();if(t)do{var r=X(t),i=r.a,a=r.d;e+=t.scrollLeft*i,n+=t.scrollTop*a}while(t!==o&&(t=t.parentNode));return[e,n]}function J(t,e){if(!t||!t.getBoundingClientRect)return $();var n=t,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=Y(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return $();if(o||e)return n;o=!0}}}while(n=n.parentNode);return $()}function Q(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function Z(t,e){return function(){if(!R){var n=arguments;1===n.length?t.call(this,n[0]):t.apply(this,n),R=setTimeout(function(){R=void 0},e)}}}function tt(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function et(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function nt(t,e,n){var o={};return Array.from(t.children).forEach(function(r){var i,a,l,s;if(B(r,e.draggable,t,!1)&&!r.animated&&r!==n){var u=U(r);o.left=Math.min(null!==(i=o.left)&&void 0!==i?i:1/0,u.left),o.top=Math.min(null!==(a=o.top)&&void 0!==a?a:1/0,u.top),o.right=Math.max(null!==(l=o.right)&&void 0!==l?l:-1/0,u.right),o.bottom=Math.max(null!==(s=o.bottom)&&void 0!==s?s:-1/0,u.bottom)}}),o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}var ot="Sortable"+(new Date).getTime();var rt=[],it={initializeByDefault:!0},at={mount:function(t){for(var e in it)it.hasOwnProperty(e)&&!(e in t)&&(t[e]=it[e]);rt.forEach(function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),rt.push(t)},pluginEvent:function(t,e,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var r=t+"Global";rt.forEach(function(o){e[o.pluginName]&&(e[o.pluginName][r]&&e[o.pluginName][r](x({sortable:e},n)),e.options[o.pluginName]&&e[o.pluginName][t]&&e[o.pluginName][t](x({sortable:e},n)))})},initializePlugins:function(t,e,n,o){for(var r in rt.forEach(function(o){var r=o.pluginName;if(t.options[r]||o.initializeByDefault){var i=new o(t,e,t.options);i.sortable=t,i.options=t.options,t[r]=i,E(n,i.defaults)}}),t.options)if(t.options.hasOwnProperty(r)){var i=this.modifyOption(t,r,t.options[r]);void 0!==i&&(t.options[r]=i)}},getEventProperties:function(t,e){var n={};return rt.forEach(function(o){"function"==typeof o.eventProperties&&E(n,o.eventProperties.call(e[o.pluginName],t))}),n},modifyOption:function(t,e,n){var o;return rt.forEach(function(r){t[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[e]&&(o=r.optionListeners[e].call(t[r.pluginName],n))}),o}};var lt=["evt"],st=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.evt,r=function(t,e){if(null==t)return{};var n,o,r=function(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}(n,lt);at.pluginEvent.bind(te)(t,e,x({dragEl:ct,parentEl:dt,ghostEl:ft,rootEl:pt,nextEl:ht,lastDownEl:mt,cloneEl:vt,cloneHidden:gt,dragStarted:kt,putSortable:_t,activeSortable:te.active,originalEvent:o,oldIndex:yt,oldDraggableIndex:wt,newIndex:bt,newDraggableIndex:xt,hideGhostForTarget:Vt,unhideGhostForTarget:Jt,cloneNowHidden:function(){gt=!0},cloneNowShown:function(){gt=!1},dispatchSortableEvent:function(t){ut({sortable:e,name:t,originalEvent:o})}},r))};function ut(t){!function(t){var e=t.sortable,n=t.rootEl,o=t.name,r=t.targetEl,i=t.cloneEl,a=t.toEl,l=t.fromEl,s=t.oldIndex,u=t.newIndex,c=t.oldDraggableIndex,d=t.newDraggableIndex,f=t.originalEvent,p=t.putSortable,h=t.extraEventProperties;if(e=e||n&&n[ot]){var m,v=e.options,g="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||C||T?(m=document.createEvent("Event")).initEvent(o,!0,!0):m=new CustomEvent(o,{bubbles:!0,cancelable:!0}),m.to=a||n,m.from=l||n,m.item=r||n,m.clone=i,m.oldIndex=s,m.newIndex=u,m.oldDraggableIndex=c,m.newDraggableIndex=d,m.originalEvent=f,m.pullMode=p?p.lastPutMode:void 0;var y=x(x({},h),at.getEventProperties(o,e));for(var b in y)m[b]=y[b];n&&n.dispatchEvent(m),v[g]&&v[g].call(e,m)}}(x({putSortable:_t,cloneEl:vt,targetEl:ct,rootEl:pt,oldIndex:yt,oldDraggableIndex:wt,newIndex:bt,newDraggableIndex:xt},t))}var ct,dt,ft,pt,ht,mt,vt,gt,yt,bt,wt,xt,St,_t,Et,Dt,Ct,Tt,Ot,Nt,kt,It,At,Mt,Pt,zt=!1,jt=!1,Bt=[],Rt=!1,Ft=!1,Lt=[],Yt=!1,Xt=[],Ht="undefined"!=typeof document,$t=k,Ut=T||C?"cssFloat":"float",Gt=Ht&&!I&&!k&&"draggable"in document.createElement("div"),Wt=function(){if(Ht){if(C)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),qt=function(t,e){var n=Y(t),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=W(t,0,e),i=W(t,1,e),a=r&&Y(r),l=i&&Y(i),s=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+U(r).width,u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+U(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&"none"!==a.float){var c="left"===a.float?"left":"right";return!i||"both"!==l.clear&&l.clear!==c?"horizontal":"vertical"}return r&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||s>=o&&"none"===n[Ut]||i&&"none"===n[Ut]&&s+u>o)?"vertical":"horizontal"},Kt=function(t){function e(t,n){return function(o,r,i,a){var l=o.options.group.name&&r.options.group.name&&o.options.group.name===r.options.group.name;if(null==t&&(n||l))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"==typeof t)return e(t(o,r,i,a),n)(o,r,i,a);var s=(n?o:r).options.group.name;return!0===t||"string"==typeof t&&t===s||t.join&&t.indexOf(s)>-1}}var n={},o=t.group;o&&"object"==S(o)||(o={name:o}),n.name=o.name,n.checkPull=e(o.pull,!0),n.checkPut=e(o.put),n.revertClone=o.revertClone,t.group=n},Vt=function(){!Wt&&ft&&Y(ft,"display","none")},Jt=function(){!Wt&&ft&&Y(ft,"display","")};Ht&&!I&&document.addEventListener("click",function(t){if(jt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),jt=!1,!1},!0);var Qt=function(t){if(ct){t=t.touches?t.touches[0]:t;var e=(r=t.clientX,i=t.clientY,Bt.some(function(t){var e=t[ot].options.emptyInsertThreshold;if(e&&!q(t)){var n=U(t),o=r>=n.left-e&&r<=n.right+e,l=i>=n.top-e&&i<=n.bottom+e;return o&&l?a=t:void 0}}),a);if(e){var n={};for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[ot]._onDragOver(n)}}var r,i,a},Zt=function(t){ct&&ct.parentNode[ot]._isOutsideThisEl(t.target)};function te(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=E({},e),t[ot]=this;var n,o,r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return qt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==te.supportPointer&&"PointerEvent"in window&&(!N||k),emptyInsertThreshold:5};for(var i in at.initializePlugins(this,t,r),r)!(i in e)&&(e[i]=r[i]);for(var a in Kt(e),this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!e.forceFallback&&Gt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?M(t,"pointerdown",this._onTapStart):(M(t,"mousedown",this._onTapStart),M(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(M(t,"dragover",this),M(t,"dragenter",this)),Bt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),E(this,(o=[],{captureAnimationState:function(){o=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(t){if("none"!==Y(t,"display")&&t!==te.ghost){o.push({target:t,rect:U(t)});var e=x({},o[o.length-1].rect);if(t.thisAnimationDuration){var n=X(t,!0);n&&(e.top-=n.f,e.left-=n.e)}t.fromRect=e}})},addAnimationState:function(t){o.push(t)},removeAnimationState:function(t){o.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var o in e)if(e.hasOwnProperty(o)&&e[o]===t[n][o])return Number(n);return-1}(o,{target:t}),1)},animateAll:function(t){var e=this;if(!this.options.animation)return clearTimeout(n),void("function"==typeof t&&t());var r=!1,i=0;o.forEach(function(t){var n=0,o=t.target,a=o.fromRect,l=U(o),s=o.prevFromRect,u=o.prevToRect,c=t.rect,d=X(o,!0);d&&(l.top-=d.f,l.left-=d.e),o.toRect=l,o.thisAnimationDuration&&Q(s,l)&&!Q(a,l)&&(c.top-l.top)/(c.left-l.left)===(a.top-l.top)/(a.left-l.left)&&(n=function(t,e,n,o){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*o.animation}(c,s,u,e.options)),Q(l,a)||(o.prevFromRect=a,o.prevToRect=l,n||(n=e.options.animation),e.animate(o,c,l,n)),n&&(r=!0,i=Math.max(i,n),clearTimeout(o.animationResetTimer),o.animationResetTimer=setTimeout(function(){o.animationTime=0,o.prevFromRect=null,o.fromRect=null,o.prevToRect=null,o.thisAnimationDuration=null},n),o.thisAnimationDuration=n)}),clearTimeout(n),r?n=setTimeout(function(){"function"==typeof t&&t()},i):"function"==typeof t&&t(),o=[]},animate:function(t,e,n,o){if(o){Y(t,"transition",""),Y(t,"transform","");var r=X(this.el),i=r&&r.a,a=r&&r.d,l=(e.left-n.left)/(i||1),s=(e.top-n.top)/(a||1);t.animatingX=!!l,t.animatingY=!!s,Y(t,"transform","translate3d("+l+"px,"+s+"px,0)"),this.forRepaintDummy=function(t){return t.offsetWidth}(t),Y(t,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Y(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){Y(t,"transition",""),Y(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},o)}}}))}function ee(t,e,n,o,r,i,a,l){var s,u,c=t[ot],d=c.options.onMove;return!window.CustomEvent||C||T?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=e,s.from=t,s.dragged=n,s.draggedRect=o,s.related=r||e,s.relatedRect=i||U(e),s.willInsertAfter=l,s.originalEvent=a,t.dispatchEvent(s),d&&(u=d.call(c,s,a)),u}function ne(t){t.draggable=!1}function oe(){Yt=!1}function re(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}function ie(t){return setTimeout(t,0)}function ae(t){return clearTimeout(t)}te.prototype={constructor:te,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(It=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,ct):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,o=this.options,r=o.preventOnFilter,i=t.type,a=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,l=(a||t).target,s=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,u=o.filter;if(function(t){Xt.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var o=e[n];o.checked&&Xt.push(o)}}(n),!ct&&!(/mousedown|pointerdown/.test(i)&&0!==t.button||o.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!N||!l||"SELECT"!==l.tagName.toUpperCase())&&!((l=B(l,o.draggable,n,!1))&&l.animated||mt===l)){if(yt=K(l),wt=K(l,o.draggable),"function"==typeof u){if(u.call(this,t,l,this))return ut({sortable:e,rootEl:s,name:"filter",targetEl:l,toEl:n,fromEl:n}),st("filter",e,{evt:t}),void(r&&t.preventDefault())}else if(u&&(u=u.split(",").some(function(o){if(o=B(s,o.trim(),n,!1))return ut({sortable:e,rootEl:o,name:"filter",targetEl:l,fromEl:n,toEl:n}),st("filter",e,{evt:t}),!0})))return void(r&&t.preventDefault());o.handle&&!B(s,o.handle,n,!1)||this._prepareDragStart(t,a,l)}}},_prepareDragStart:function(t,e,n){var o,r=this,i=r.el,a=r.options,l=i.ownerDocument;if(n&&!ct&&n.parentNode===i){var s=U(n);if(pt=i,dt=(ct=n).parentNode,ht=ct.nextSibling,mt=n,St=a.group,te.dragged=ct,Et={target:ct,clientX:(e||t).clientX,clientY:(e||t).clientY},Ot=Et.clientX-s.left,Nt=Et.clientY-s.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,ct.style["will-change"]="all",o=function(){st("delayEnded",r,{evt:t}),te.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!O&&r.nativeDraggable&&(ct.draggable=!0),r._triggerDragStart(t,e),ut({sortable:r,name:"choose",originalEvent:t}),L(ct,a.chosenClass,!0))},a.ignore.split(",").forEach(function(t){H(ct,t.trim(),ne)}),M(l,"dragover",Qt),M(l,"mousemove",Qt),M(l,"touchmove",Qt),a.supportPointer?(M(l,"pointerup",r._onDrop),!this.nativeDraggable&&M(l,"pointercancel",r._onDrop)):(M(l,"mouseup",r._onDrop),M(l,"touchend",r._onDrop),M(l,"touchcancel",r._onDrop)),O&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ct.draggable=!0),st("delayStart",this,{evt:t}),!a.delay||a.delayOnTouchOnly&&!e||this.nativeDraggable&&(T||C))o();else{if(te.eventCanceled)return void this._onDrop();a.supportPointer?(M(l,"pointerup",r._disableDelayedDrag),M(l,"pointercancel",r._disableDelayedDrag)):(M(l,"mouseup",r._disableDelayedDrag),M(l,"touchend",r._disableDelayedDrag),M(l,"touchcancel",r._disableDelayedDrag)),M(l,"mousemove",r._delayedDragTouchMoveHandler),M(l,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&M(l,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(o,a.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ct&&ne(ct),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;P(t,"mouseup",this._disableDelayedDrag),P(t,"touchend",this._disableDelayedDrag),P(t,"touchcancel",this._disableDelayedDrag),P(t,"pointerup",this._disableDelayedDrag),P(t,"pointercancel",this._disableDelayedDrag),P(t,"mousemove",this._delayedDragTouchMoveHandler),P(t,"touchmove",this._delayedDragTouchMoveHandler),P(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?M(document,"pointermove",this._onTouchMove):M(document,e?"touchmove":"mousemove",this._onTouchMove):(M(ct,"dragend",this),M(pt,"dragstart",this._onDragStart));try{document.selection?ie(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(zt=!1,pt&&ct){st("dragStarted",this,{evt:e}),this.nativeDraggable&&M(document,"dragover",Zt);var n=this.options;!t&&L(ct,n.dragClass,!1),L(ct,n.ghostClass,!0),te.active=this,t&&this._appendGhost(),ut({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(Dt){this._lastX=Dt.clientX,this._lastY=Dt.clientY,Vt();for(var t=document.elementFromPoint(Dt.clientX,Dt.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Dt.clientX,Dt.clientY))!==e;)e=t;if(ct.parentNode[ot]._isOutsideThisEl(t),e)do{if(e[ot]&&e[ot]._onDragOver({clientX:Dt.clientX,clientY:Dt.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break;t=e}while(e=j(e));Jt()}},_onTouchMove:function(t){if(Et){var e=this.options,n=e.fallbackTolerance,o=e.fallbackOffset,r=t.touches?t.touches[0]:t,i=ft&&X(ft,!0),a=ft&&i&&i.a,l=ft&&i&&i.d,s=$t&&Pt&&V(Pt),u=(r.clientX-Et.clientX+o.x)/(a||1)+(s?s[0]-Lt[0]:0)/(a||1),c=(r.clientY-Et.clientY+o.y)/(l||1)+(s?s[1]-Lt[1]:0)/(l||1);if(!te.active&&!zt){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(ft){i?(i.e+=u-(Ct||0),i.f+=c-(Tt||0)):i={a:1,b:0,c:0,d:1,e:u,f:c};var d="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");Y(ft,"webkitTransform",d),Y(ft,"mozTransform",d),Y(ft,"msTransform",d),Y(ft,"transform",d),Ct=u,Tt=c,Dt=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!ft){var t=this.options.fallbackOnBody?document.body:pt,e=U(ct,!0,$t,!0,t),n=this.options;if($t){for(Pt=t;"static"===Y(Pt,"position")&&"none"===Y(Pt,"transform")&&Pt!==document;)Pt=Pt.parentNode;Pt!==document.body&&Pt!==document.documentElement?(Pt===document&&(Pt=$()),e.top+=Pt.scrollTop,e.left+=Pt.scrollLeft):Pt=$(),Lt=V(Pt)}L(ft=ct.cloneNode(!0),n.ghostClass,!1),L(ft,n.fallbackClass,!0),L(ft,n.dragClass,!0),Y(ft,"transition",""),Y(ft,"transform",""),Y(ft,"box-sizing","border-box"),Y(ft,"margin",0),Y(ft,"top",e.top),Y(ft,"left",e.left),Y(ft,"width",e.width),Y(ft,"height",e.height),Y(ft,"opacity","0.8"),Y(ft,"position",$t?"absolute":"fixed"),Y(ft,"zIndex","100000"),Y(ft,"pointerEvents","none"),te.ghost=ft,t.appendChild(ft),Y(ft,"transform-origin",Ot/parseInt(ft.style.width)*100+"% "+Nt/parseInt(ft.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,o=t.dataTransfer,r=n.options;st("dragStart",this,{evt:t}),te.eventCanceled?this._onDrop():(st("setupClone",this),te.eventCanceled||((vt=et(ct)).removeAttribute("id"),vt.draggable=!1,vt.style["will-change"]="",this._hideClone(),L(vt,this.options.chosenClass,!1),te.clone=vt),n.cloneId=ie(function(){st("clone",n),te.eventCanceled||(n.options.removeCloneOnHide||pt.insertBefore(vt,ct),n._hideClone(),ut({sortable:n,name:"clone"}))}),!e&&L(ct,r.dragClass,!0),e?(jt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(P(document,"mouseup",n._onDrop),P(document,"touchend",n._onDrop),P(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",r.setData&&r.setData.call(n,o,ct)),M(document,"drop",n),Y(ct,"transform","translateZ(0)")),zt=!0,n._dragStartId=ie(n._dragStarted.bind(n,e,t)),M(document,"selectstart",n),kt=!0,window.getSelection().removeAllRanges(),N&&Y(document.body,"user-select","none"))},_onDragOver:function(t){var e,n,o,r,i=this.el,a=t.target,l=this.options,s=l.group,u=te.active,c=St===s,d=l.sort,f=_t||u,p=this,h=!1;if(!Yt){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),a=B(a,l.draggable,i,!0),k("dragOver"),te.eventCanceled)return h;if(ct.contains(t.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return A(!1);if(jt=!1,u&&!l.disabled&&(c?d||(o=dt!==pt):_t===this||(this.lastPutMode=St.checkPull(this,u,ct,t))&&s.checkPut(this,u,ct,t))){if(r="vertical"===this._getDirection(t,a),e=U(ct),k("dragOverValid"),te.eventCanceled)return h;if(o)return dt=pt,I(),this._hideClone(),k("revert"),te.eventCanceled||(ht?pt.insertBefore(ct,ht):pt.appendChild(ct)),A(!0);var m=q(i,l.draggable);if(!m||function(t,e,n){var o=U(q(n.el,n.options.draggable)),r=nt(n.el,n.options,ft);return e?t.clientX>r.right+10||t.clientY>o.bottom&&t.clientX>o.left:t.clientY>r.bottom+10||t.clientX>o.right&&t.clientY>o.top}(t,r,this)&&!m.animated){if(m===ct)return A(!1);if(m&&i===t.target&&(a=m),a&&(n=U(a)),!1!==ee(pt,i,ct,e,a,n,t,!!a))return I(),m&&m.nextSibling?i.insertBefore(ct,m.nextSibling):i.appendChild(ct),dt=i,M(),A(!0)}else if(m&&function(t,e,n){var o=U(W(n.el,0,n.options,!0)),r=nt(n.el,n.options,ft);return e?t.clientX<r.left-10||t.clientY<o.top&&t.clientX<o.right:t.clientY<r.top-10||t.clientY<o.bottom&&t.clientX<o.left}(t,r,this)){var v=W(i,0,l,!0);if(v===ct)return A(!1);if(n=U(a=v),!1!==ee(pt,i,ct,e,a,n,t,!1))return I(),i.insertBefore(ct,v),dt=i,M(),A(!0)}else if(a.parentNode===i){n=U(a);var g,y,b,w=ct.parentNode!==i,S=!function(t,e,n){var o=n?t.left:t.top,r=n?t.right:t.bottom,i=n?t.width:t.height,a=n?e.left:e.top,l=n?e.right:e.bottom,s=n?e.width:e.height;return o===a||r===l||o+i/2===a+s/2}(ct.animated&&ct.toRect||e,a.animated&&a.toRect||n,r),_=r?"top":"left",E=G(a,"top","top")||G(ct,"top","top"),D=E?E.scrollTop:void 0;if(It!==a&&(y=n[_],Rt=!1,Ft=!S&&l.invertSwap||w),g=function(t,e,n,o,r,i,a,l){var s=o?t.clientY:t.clientX,u=o?n.height:n.width,c=o?n.top:n.left,d=o?n.bottom:n.right,f=!1;if(!a)if(l&&Mt<u*r){if(!Rt&&(1===At?s>c+u*i/2:s<d-u*i/2)&&(Rt=!0),Rt)f=!0;else if(1===At?s<c+Mt:s>d-Mt)return-At}else if(s>c+u*(1-r)/2&&s<d-u*(1-r)/2)return function(t){return K(ct)<K(t)?1:-1}(e);return(f=f||a)&&(s<c+u*i/2||s>d-u*i/2)?s>c+u/2?1:-1:0}(t,a,n,r,S?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Ft,It===a),0!==g){var C=K(ct);do{C-=g,b=dt.children[C]}while(b&&("none"===Y(b,"display")||b===ft))}if(0===g||b===a)return A(!1);It=a,At=g;var T=a.nextElementSibling,O=!1,N=ee(pt,i,ct,e,a,n,t,O=1===g);if(!1!==N)return 1!==N&&-1!==N||(O=1===N),Yt=!0,setTimeout(oe,30),I(),O&&!T?i.appendChild(ct):a.parentNode.insertBefore(ct,O?T:a),E&&tt(E,0,D-E.scrollTop),dt=ct.parentNode,void 0===y||Ft||(Mt=Math.abs(y-U(a)[_])),M(),A(!0)}if(i.contains(ct))return A(!1)}return!1}function k(l,s){st(l,p,x({evt:t,isOwner:c,axis:r?"vertical":"horizontal",revert:o,dragRect:e,targetRect:n,canSort:d,fromSortable:f,target:a,completed:A,onMove:function(n,o){return ee(pt,i,ct,e,n,U(n),t,o)},changed:M},s))}function I(){k("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function A(e){return k("dragOverCompleted",{insertion:e}),e&&(c?u._hideClone():u._showClone(p),p!==f&&(L(ct,_t?_t.options.ghostClass:u.options.ghostClass,!1),L(ct,l.ghostClass,!0)),_t!==p&&p!==te.active?_t=p:p===te.active&&_t&&(_t=null),f===p&&(p._ignoreWhileAnimating=a),p.animateAll(function(){k("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(a===ct&&!ct.animated||a===i&&!a.animated)&&(It=null),l.dragoverBubble||t.rootEl||a===document||(ct.parentNode[ot]._isOutsideThisEl(t.target),!e&&Qt(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),h=!0}function M(){bt=K(ct),xt=K(ct,l.draggable),ut({sortable:p,name:"change",toEl:i,newIndex:bt,newDraggableIndex:xt,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){P(document,"mousemove",this._onTouchMove),P(document,"touchmove",this._onTouchMove),P(document,"pointermove",this._onTouchMove),P(document,"dragover",Qt),P(document,"mousemove",Qt),P(document,"touchmove",Qt)},_offUpEvents:function(){var t=this.el.ownerDocument;P(t,"mouseup",this._onDrop),P(t,"touchend",this._onDrop),P(t,"pointerup",this._onDrop),P(t,"pointercancel",this._onDrop),P(t,"touchcancel",this._onDrop),P(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;bt=K(ct),xt=K(ct,n.draggable),st("drop",this,{evt:t}),dt=ct&&ct.parentNode,bt=K(ct),xt=K(ct,n.draggable),te.eventCanceled||(zt=!1,Ft=!1,Rt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ae(this.cloneId),ae(this._dragStartId),this.nativeDraggable&&(P(document,"drop",this),P(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),N&&Y(document.body,"user-select",""),Y(ct,"transform",""),t&&(kt&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),ft&&ft.parentNode&&ft.parentNode.removeChild(ft),(pt===dt||_t&&"clone"!==_t.lastPutMode)&&vt&&vt.parentNode&&vt.parentNode.removeChild(vt),ct&&(this.nativeDraggable&&P(ct,"dragend",this),ne(ct),ct.style["will-change"]="",kt&&!zt&&L(ct,_t?_t.options.ghostClass:this.options.ghostClass,!1),L(ct,this.options.chosenClass,!1),ut({sortable:this,name:"unchoose",toEl:dt,newIndex:null,newDraggableIndex:null,originalEvent:t}),pt!==dt?(bt>=0&&(ut({rootEl:dt,name:"add",toEl:dt,fromEl:pt,originalEvent:t}),ut({sortable:this,name:"remove",toEl:dt,originalEvent:t}),ut({rootEl:dt,name:"sort",toEl:dt,fromEl:pt,originalEvent:t}),ut({sortable:this,name:"sort",toEl:dt,originalEvent:t})),_t&&_t.save()):bt!==yt&&bt>=0&&(ut({sortable:this,name:"update",toEl:dt,originalEvent:t}),ut({sortable:this,name:"sort",toEl:dt,originalEvent:t})),te.active&&(null!=bt&&-1!==bt||(bt=yt,xt=wt),ut({sortable:this,name:"end",toEl:dt,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){st("nulling",this),pt=ct=dt=ft=ht=vt=mt=gt=Et=Dt=kt=bt=xt=yt=wt=It=At=_t=St=te.dragged=te.ghost=te.clone=te.active=null,Xt.forEach(function(t){t.checked=!0}),Xt.length=Ct=Tt=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":ct&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,o=0,r=n.length,i=this.options;o<r;o++)B(t=n[o],i.draggable,this.el,!1)&&e.push(t.getAttribute(i.dataIdAttr)||re(t));return e},sort:function(t,e){var n={},o=this.el;this.toArray().forEach(function(t,e){var r=o.children[e];B(r,this.options.draggable,o,!1)&&(n[t]=r)},this),e&&this.captureAnimationState(),t.forEach(function(t){n[t]&&(o.removeChild(n[t]),o.appendChild(n[t]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return B(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var o=at.modifyOption(this,t,e);n[t]=void 0!==o?o:e,"group"===t&&Kt(n)},destroy:function(){st("destroy",this);var t=this.el;t[ot]=null,P(t,"mousedown",this._onTapStart),P(t,"touchstart",this._onTapStart),P(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(P(t,"dragover",this),P(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Bt.splice(Bt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!gt){if(st("hideClone",this),te.eventCanceled)return;Y(vt,"display","none"),this.options.removeCloneOnHide&&vt.parentNode&&vt.parentNode.removeChild(vt),gt=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(gt){if(st("showClone",this),te.eventCanceled)return;ct.parentNode!=pt||this.options.group.revertClone?ht?pt.insertBefore(vt,ht):pt.appendChild(vt):pt.insertBefore(vt,ct),this.options.group.revertClone&&this.animate(ct,vt),Y(vt,"display",""),gt=!1}}else this._hideClone()}},Ht&&M(document,"touchmove",function(t){(te.active||zt)&&t.cancelable&&t.preventDefault()}),te.utils={on:M,off:P,css:Y,find:H,is:function(t,e){return!!B(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:Z,closest:B,toggleClass:L,clone:et,index:K,nextTick:ie,cancelNextTick:ae,detectDirection:qt,getChild:W,expando:ot},te.get=function(t){return t[ot]},te.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(te.utils=x(x({},te.utils),t.utils)),at.mount(t)})},te.create=function(t,e){return new te(t,e)},te.version="1.15.6";var le,se,ue,ce,de,fe,pe=[],he=!1;function me(){pe.forEach(function(t){clearInterval(t.pid)}),pe=[]}function ve(){clearInterval(fe)}var ge=Z(function(t,e,n,o){if(e.scroll){var r,i=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,l=e.scrollSensitivity,s=e.scrollSpeed,u=$(),c=!1;se!==n&&(se=n,me(),le=e.scroll,r=e.scrollFn,!0===le&&(le=J(n,!0)));var d=0,f=le;do{var p=f,h=U(p),m=h.top,v=h.bottom,g=h.left,y=h.right,b=h.width,w=h.height,x=void 0,S=void 0,_=p.scrollWidth,E=p.scrollHeight,D=Y(p),C=p.scrollLeft,T=p.scrollTop;p===u?(x=b<_&&("auto"===D.overflowX||"scroll"===D.overflowX||"visible"===D.overflowX),S=w<E&&("auto"===D.overflowY||"scroll"===D.overflowY||"visible"===D.overflowY)):(x=b<_&&("auto"===D.overflowX||"scroll"===D.overflowX),S=w<E&&("auto"===D.overflowY||"scroll"===D.overflowY));var O=x&&(Math.abs(y-i)<=l&&C+b<_)-(Math.abs(g-i)<=l&&!!C),N=S&&(Math.abs(v-a)<=l&&T+w<E)-(Math.abs(m-a)<=l&&!!T);if(!pe[d])for(var k=0;k<=d;k++)pe[k]||(pe[k]={});pe[d].vx==O&&pe[d].vy==N&&pe[d].el===p||(pe[d].el=p,pe[d].vx=O,pe[d].vy=N,clearInterval(pe[d].pid),0==O&&0==N||(c=!0,pe[d].pid=setInterval(function(){o&&0===this.layer&&te.active._onTouchMove(de);var e=pe[this.layer].vy?pe[this.layer].vy*s:0,n=pe[this.layer].vx?pe[this.layer].vx*s:0;"function"==typeof r&&"continue"!==r.call(te.dragged.parentNode[ot],n,e,t,de,pe[this.layer].el)||tt(pe[this.layer].el,n,e)}.bind({layer:d}),24))),d++}while(e.bubbleScroll&&f!==u&&(f=J(f,!1)));he=c}},30),ye=function(t){var e=t.originalEvent,n=t.putSortable,o=t.dragEl,r=t.activeSortable,i=t.dispatchSortableEvent,a=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(e){var s=n||r;a();var u=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,c=document.elementFromPoint(u.clientX,u.clientY);l(),s&&!s.el.contains(c)&&(i("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function be(){}function we(){}be.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=W(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(e,o):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:ye},E(be,{pluginName:"revertOnSpill"}),we.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:ye},E(we,{pluginName:"removeOnSpill"}),te.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?M(document,"dragover",this._handleAutoScroll):this.options.supportPointer?M(document,"pointermove",this._handleFallbackAutoScroll):e.touches?M(document,"touchmove",this._handleFallbackAutoScroll):M(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?P(document,"dragover",this._handleAutoScroll):(P(document,"pointermove",this._handleFallbackAutoScroll),P(document,"touchmove",this._handleFallbackAutoScroll),P(document,"mousemove",this._handleFallbackAutoScroll)),ve(),me(),clearTimeout(R),R=void 0},nulling:function(){de=se=le=he=fe=ue=ce=null,pe.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,o=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,i=document.elementFromPoint(o,r);if(de=t,e||this.options.forceAutoScrollFallback||T||C||N){ge(t,this.options,i,e);var a=J(i,!0);!he||fe&&o===ue&&r===ce||(fe&&ve(),fe=setInterval(function(){var i=J(document.elementFromPoint(o,r),!0);i!==a&&(a=i,me()),ge(t,n.options,i,e)},10),ue=o,ce=r)}else{if(!this.options.bubbleScroll||J(i,!0)===$())return void me();ge(t,this.options,J(i,!1),!1)}}},E(t,{pluginName:"scroll",initializeByDefault:!0})}),te.mount(we,be);const xe=te;var Se=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).loading=void 0,e.buttonsCustomizationList=void 0,e}r(n,t);var o=n.prototype;return o.oninit=function(e){t.prototype.oninit.call(this,e),this.loading=!1,this.buttonsCustomizationList=[],this.loadResults()},o.initSort=function(){var t=this,e=document.getElementById("buttonsCustomizationSortableItems");e&&xe.create(e,{animation:150,swapThreshold:.65,onEnd:function(e){return t.updateSort(e)}})},o.content=function(t){return h()("div",{className:"ExtensionPage-settings FlarumBadgesPage"},[h()("div",{className:"container"},[h()("div",{style:"padding-bottom:10px"},[h()(s(),{className:"Button",onclick:function(){return e().modal.show(m)}},e().translator.trans("client1-buttons-customization.admin.link-add"))]),h()("ul",{id:"buttonsCustomizationSortableItems",style:"padding:0px;list-style-type: none;",oncreate:this.initSort.bind(this)},this.buttonsCustomizationList.map(function(t){return h()("li",{"data-item-id":t.id(),style:"margin-top:5px;background: var(--body-bg);"},b.component({ButtonsCustomizationItemData:t}))}))])])},o.updateSort=function(t){if(t.newIndex!==t.oldIndex){var n,o=null==(n=t.from)?void 0:n.children,r={};if(o){for(var i=0;i<o.length;i++){var a=o[i].getAttribute("data-item-id");a&&(r[a]=i)}e().request({url:e().forum.attribute("apiUrl")+"/buttonsCustomizationList/order",method:"POST",body:{buttonsCustomizationOrder:r}})}}},o.parseResults=function(t){var e;return(e=this.buttonsCustomizationList).push.apply(e,t),h().redraw(),t},o.loadResults=function(){return e().store.find("buttonsCustomizationList").catch(function(){return[]}).then(this.parseResults.bind(this))},n}(a());const _e=flarum.core.compat["common/Model"];var Ee=n.n(_e),De=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).id=void 0,e.name=void 0,e.icon=void 0,e.color=void 0,e.url=void 0,e.sort=void 0,e}return r(e,t),e}(Ee());Object.assign(De.prototype,{id:Ee().attribute("id"),name:Ee().attribute("name"),icon:Ee().attribute("icon"),color:Ee().attribute("color"),url:Ee().attribute("url"),sort:Ee().attribute("sort")}),e().initializers.add("wusong8899-buttons-customization",function(){e().store.models.buttonsCustomizationList=De,e().extensionData.for("wusong8899-client1-buttons-customization").registerPage(Se)})})(),module.exports={}})();
//# sourceMappingURL=admin.js.map