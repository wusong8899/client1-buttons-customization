/*! For license information please see admin.js.LICENSE.txt */
(()=>{var t={2:(t,e,n)=>{"use strict";var o=n(461);t.exports=function(){var t,e=arguments[this],n=this+1;if(null==e?e={}:("object"!=typeof e||null!=e.tag||Array.isArray(e))&&(e={},n=this),arguments.length===n+1)t=arguments[n],Array.isArray(t)||(t=[t]);else for(t=[];n<arguments.length;)t.push(arguments[n++]);return o("",e.key,e,t)}},43:(t,e,n)=>{"use strict";var o=n(461),r=n(396),i=r.delayedRemoval,a=r.domFor;t.exports=function(){var t,e,n={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function r(t){return t.ownerDocument}function l(t){return t.attrs&&t.attrs.xmlns||n[t.tag]}function s(t,e){if(t.state!==e)throw new Error("'vnode.state' must not be modified.")}function u(t){var e=t.state;try{return this.apply(e,arguments)}finally{s(t,e)}}function c(t){try{return r(t).activeElement}catch(t){return null}}function d(t,e,n,o,r,i,a){for(var l=n;l<o;l++){var s=e[l];null!=s&&f(t,s,r,a,i)}}function f(t,e,n,i,a){var s=e.tag;if("string"==typeof s)switch(e.state={},null!=e.attrs&&j(e.attrs,e,n),s){case"#":!function(t,e,n){e.dom=r(t).createTextNode(e.children),x(t,e.dom,n)}(t,e,a);break;case"<":p(t,e,i,a);break;case"[":!function(t,e,n,o,i){var a=r(t).createDocumentFragment();if(null!=e.children){var l=e.children;d(a,l,0,l.length,n,null,o)}e.dom=a.firstChild,e.domSize=a.childNodes.length,x(t,a,i)}(t,e,n,i,a);break;default:!function(t,e,n,o,i){var a=e.tag,s=e.attrs,u=e.is,c=(o=l(e)||o)?u?r(t).createElementNS(o,a,{is:u}):r(t).createElementNS(o,a):u?r(t).createElement(a,{is:u}):r(t).createElement(a);if(e.dom=c,null!=s&&function(t,e,n){for(var o in e)I(t,o,null,e[o],n)}(e,s,o),x(t,c,i),!E(e)&&null!=e.children){var f=e.children;d(c,f,0,f.length,n,null,o),"select"===e.tag&&null!=s&&function(t,e){if("value"in e)if(null===e.value)-1!==t.dom.selectedIndex&&(t.dom.value=null);else{var n=""+e.value;t.dom.value===n&&-1!==t.dom.selectedIndex||(t.dom.value=n)}"selectedIndex"in e&&I(t,"selectedIndex",null,e.selectedIndex,void 0)}(e,s)}}(t,e,n,i,a)}else!function(t,e,n,r,i){(function(t,e){var n;if("function"==typeof t.tag.view){if(t.state=Object.create(t.tag),null!=(n=t.state.view).$$reentrantLock$$)return;n.$$reentrantLock$$=!0}else{if(t.state=void 0,null!=(n=t.tag).$$reentrantLock$$)return;n.$$reentrantLock$$=!0,t.state=null!=t.tag.prototype&&"function"==typeof t.tag.prototype.view?new t.tag(t):t.tag(t)}if(j(t.state,t,e),null!=t.attrs&&j(t.attrs,t,e),t.instance=o.normalize(u.call(t.state.view,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");n.$$reentrantLock$$=null})(e,n),null!=e.instance?(f(t,e.instance,n,r,i),e.dom=e.instance.dom,e.domSize=null!=e.dom?e.instance.domSize:0):e.domSize=0}(t,e,n,i,a)}var h={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function p(t,e,n,o){var i=e.children.match(/^\s*?<(\w+)/im)||[],a=r(t).createElement(h[i[1]]||"div");"http://www.w3.org/2000/svg"===n?(a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",a=a.firstChild):a.innerHTML=e.children,e.dom=a.firstChild,e.domSize=a.childNodes.length;for(var l,s=r(t).createDocumentFragment();l=a.firstChild;)s.appendChild(l);x(t,s,o)}function m(t,e,n,o,r,i){if(e!==n&&(null!=e||null!=n))if(null==e||0===e.length)d(t,n,0,n.length,o,r,i);else if(null==n||0===n.length)D(t,e,0,e.length);else{var a=null!=e[0]&&null!=e[0].key,l=null!=n[0]&&null!=n[0].key,s=0,u=0;if(!a)for(;u<e.length&&null==e[u];)u++;if(!l)for(;s<n.length&&null==n[s];)s++;if(a!==l)D(t,e,u,e.length),d(t,n,s,n.length,o,r,i);else if(l){for(var c,h,p,m,b,x=e.length-1,E=n.length-1;x>=u&&E>=s&&(p=e[x],m=n[E],p.key===m.key);)p!==m&&v(t,p,m,o,r,i),null!=m.dom&&(r=m.dom),x--,E--;for(;x>=u&&E>=s&&(c=e[u],h=n[s],c.key===h.key);)u++,s++,c!==h&&v(t,c,h,o,w(e,u,r),i);for(;x>=u&&E>=s&&s!==E&&c.key===m.key&&p.key===h.key;)S(t,p,b=w(e,u,r)),p!==h&&v(t,p,h,o,b,i),++s<=--E&&S(t,c,r),c!==m&&v(t,c,m,o,r,i),null!=m.dom&&(r=m.dom),u++,p=e[--x],m=n[E],c=e[u],h=n[s];for(;x>=u&&E>=s&&p.key===m.key;)p!==m&&v(t,p,m,o,r,i),null!=m.dom&&(r=m.dom),E--,p=e[--x],m=n[E];if(s>E)D(t,e,u,x+1);else if(u>x)d(t,n,s,E+1,o,r,i);else{var C,_,N=r,O=E-s+1,I=new Array(O),k=0,z=0,A=2147483647,P=0;for(z=0;z<O;z++)I[z]=-1;for(z=E;z>=s;z--){null==C&&(C=g(e,u,x+1));var M=C[(m=n[z]).key];null!=M&&(A=M<A?M:-1,I[z-s]=M,p=e[M],e[M]=null,p!==m&&v(t,p,m,o,r,i),null!=m.dom&&(r=m.dom),P++)}if(r=N,P!==x-u+1&&D(t,e,u,x+1),0===P)d(t,n,s,E+1,o,r,i);else if(-1===A)for(_=function(t){var e=[0],n=0,o=0,r=0,i=y.length=t.length;for(r=0;r<i;r++)y[r]=t[r];for(r=0;r<i;++r)if(-1!==t[r]){var a=e[e.length-1];if(t[a]<t[r])y[r]=a,e.push(r);else{for(n=0,o=e.length-1;n<o;){var l=(n>>>1)+(o>>>1)+(n&o&1);t[e[l]]<t[r]?n=l+1:o=l}t[r]<t[e[n]]&&(n>0&&(y[r]=e[n-1]),e[n]=r)}}for(o=e[(n=e.length)-1];n-- >0;)e[n]=o,o=y[o];return y.length=0,e}(I),k=_.length-1,z=E;z>=s;z--)h=n[z],-1===I[z-s]?f(t,h,o,i,r):_[k]===z-s?k--:S(t,h,r),null!=h.dom&&(r=n[z].dom);else for(z=E;z>=s;z--)h=n[z],-1===I[z-s]&&f(t,h,o,i,r),null!=h.dom&&(r=n[z].dom)}}else{var B=e.length<n.length?e.length:n.length;for(s=s<u?s:u;s<B;s++)(c=e[s])===(h=n[s])||null==c&&null==h||(null==c?f(t,h,o,i,w(e,s+1,r)):null==h?T(t,c):v(t,c,h,o,w(e,s+1,r),i));e.length>B&&D(t,e,s,e.length),n.length>B&&d(t,n,s,n.length,o,r,i)}}}function v(t,e,n,r,i,a){var s=e.tag;if(s===n.tag&&e.is===n.is){if(n.state=e.state,n.events=e.events,function(t,e){do{var n;if(null!=t.attrs&&"function"==typeof t.attrs.onbeforeupdate&&void 0!==(n=u.call(t.attrs.onbeforeupdate,t,e))&&!n)break;if("string"!=typeof t.tag&&"function"==typeof t.state.onbeforeupdate&&void 0!==(n=u.call(t.state.onbeforeupdate,t,e))&&!n)break;return!1}while(0);return t.dom=e.dom,t.domSize=e.domSize,t.instance=e.instance,t.attrs=e.attrs,t.children=e.children,t.text=e.text,!0}(n,e))return;if("string"==typeof s)switch(null!=n.attrs&&R(n.attrs,n,r),s){case"#":!function(t,e){t.children.toString()!==e.children.toString()&&(t.dom.nodeValue=e.children),e.dom=t.dom}(e,n);break;case"<":!function(t,e,n,o,r){e.children!==n.children?(N(t,e),p(t,n,o,r)):(n.dom=e.dom,n.domSize=e.domSize)}(t,e,n,a,i);break;case"[":!function(t,e,n,o,r,i){m(t,e.children,n.children,o,r,i);var a=0,l=n.children;if(n.dom=null,null!=l){for(var s=0;s<l.length;s++){var u=l[s];null!=u&&null!=u.dom&&(null==n.dom&&(n.dom=u.dom),a+=u.domSize||1)}1!==a&&(n.domSize=a)}}(t,e,n,r,i,a);break;default:!function(t,e,n,o){var r=e.dom=t.dom;o=l(e)||o,function(t,e,n,o){var r;if(null!=e)for(var i in e===n&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),e)null==(r=e[i])||null!=n&&null!=n[i]||k(t,i,r,o);if(null!=n)for(var i in n)I(t,i,e&&e[i],n[i],o)}(e,t.attrs,e.attrs,o),E(e)||m(r,t.children,e.children,n,null,o)}(e,n,r,a)}else!function(t,e,n,r,i,a){if(n.instance=o.normalize(u.call(n.state.view,n)),n.instance===n)throw Error("A view cannot return the vnode it received as argument");R(n.state,n,r),null!=n.attrs&&R(n.attrs,n,r),null!=n.instance?(null==e.instance?f(t,n.instance,r,a,i):v(t,e.instance,n.instance,r,i,a),n.dom=n.instance.dom,n.domSize=n.instance.domSize):null!=e.instance?(T(t,e.instance),n.dom=void 0,n.domSize=0):(n.dom=e.dom,n.domSize=e.domSize)}(t,e,n,r,i,a)}else T(t,e),f(t,n,r,a,i)}function g(t,e,n){for(var o=Object.create(null);e<n;e++){var r=t[e];if(null!=r){var i=r.key;null!=i&&(o[i]=e)}}return o}var b,y=[];function w(t,e,n){for(;e<t.length;e++)if(null!=t[e]&&null!=t[e].dom)return t[e].dom;return n}function S(t,e,n){if(null!=e.dom){var o;if(null==e.domSize)o=e.dom;else for(var i of(o=r(t).createDocumentFragment(),a(e)))o.appendChild(i);x(t,o,n)}}function x(t,e,n){null!=n?t.insertBefore(e,n):t.appendChild(e)}function E(t){if(null==t.attrs||null==t.attrs.contenteditable&&null==t.attrs.contentEditable)return!1;var e=t.children;if(null!=e&&1===e.length&&"<"===e[0].tag){var n=e[0].children;t.dom.innerHTML!==n&&(t.dom.innerHTML=n)}else if(null!=e&&0!==e.length)throw new Error("Child node of a contenteditable must be trusted.");return!0}function D(t,e,n,o){for(var r=n;r<o;r++){var i=e[r];null!=i&&T(t,i)}}function C(t,n,o,r){var l=n.state,c=u.call(o.onbeforeremove,n);if(null!=c){var d=e;for(var f of a(n))i.set(f,d);r.v++,Promise.resolve(c).finally(function(){s(n,l),_(t,n,r)})}}function _(t,e,n){0===--n.v&&(O(e),N(t,e))}function T(t,e){var n={v:1};"string"!=typeof e.tag&&"function"==typeof e.state.onbeforeremove&&C(t,e,e.state,n),e.attrs&&"function"==typeof e.attrs.onbeforeremove&&C(t,e,e.attrs,n),_(t,e,n)}function N(t,e){if(null!=e.dom)if(null==e.domSize)t.removeChild(e.dom);else for(var n of a(e))t.removeChild(n)}function O(t){if("string"!=typeof t.tag&&"function"==typeof t.state.onremove&&u.call(t.state.onremove,t),t.attrs&&"function"==typeof t.attrs.onremove&&u.call(t.attrs.onremove,t),"string"!=typeof t.tag)null!=t.instance&&O(t.instance);else{null!=t.events&&(t.events._=null);var e=t.children;if(Array.isArray(e))for(var n=0;n<e.length;n++){var o=e[n];null!=o&&O(o)}}}function I(t,e,n,o,r){if("key"!==e&&null!=o&&!z(e)&&(n!==o||function(t,e){return"value"===e||"checked"===e||"selectedIndex"===e||"selected"===e&&(t.dom===c(t.dom)||"option"===t.tag&&t.dom.parentNode===c(t.dom))}(t,e)||"object"==typeof o)){if("o"===e[0]&&"n"===e[1])return B(t,e,o);if("xlink:"===e.slice(0,6))t.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),o);else if("style"===e)P(t.dom,n,o);else if(A(t,e,r)){if("value"===e){if(("input"===t.tag||"textarea"===t.tag)&&t.dom.value===""+o)return;if("select"===t.tag&&null!==n&&t.dom.value===""+o)return;if("option"===t.tag&&null!==n&&t.dom.value===""+o)return;if("input"===t.tag&&"file"===t.attrs.type&&""+o!="")return void console.error("`value` is read-only on file inputs!")}"input"===t.tag&&"type"===e?t.dom.setAttribute(e,o):t.dom[e]=o}else"boolean"==typeof o?o?t.dom.setAttribute(e,""):t.dom.removeAttribute(e):t.dom.setAttribute("className"===e?"class":e,o)}}function k(t,e,n,o){if("key"!==e&&null!=n&&!z(e))if("o"===e[0]&&"n"===e[1])B(t,e,void 0);else if("style"===e)P(t.dom,n,null);else if(!A(t,e,o)||"className"===e||"title"===e||"value"===e&&("option"===t.tag||"select"===t.tag&&-1===t.dom.selectedIndex&&t.dom===c(t.dom))||"input"===t.tag&&"type"===e){var r=e.indexOf(":");-1!==r&&(e=e.slice(r+1)),!1!==n&&t.dom.removeAttribute("className"===e?"class":e)}else t.dom[e]=null}function z(t){return"oninit"===t||"oncreate"===t||"onupdate"===t||"onremove"===t||"onbeforeremove"===t||"onbeforeupdate"===t}function A(t,e,n){return void 0===n&&(t.tag.indexOf("-")>-1||t.is||"href"!==e&&"list"!==e&&"form"!==e&&"width"!==e&&"height"!==e)&&e in t.dom}function P(t,e,n){if(e===n);else if(null==n)t.style="";else if("object"!=typeof n)t.style=n;else if(null==e||"object"!=typeof e)for(var o in t.style="",n)null!=(r=n[o])&&(o.includes("-")?t.style.setProperty(o,String(r)):t.style[o]=String(r));else{for(var o in e)null!=e[o]&&null==n[o]&&(o.includes("-")?t.style.removeProperty(o):t.style[o]="");for(var o in n){var r;null!=(r=n[o])&&(r=String(r))!==String(e[o])&&(o.includes("-")?t.style.setProperty(o,r):t.style[o]=r)}}}function M(){this._=t}function B(e,n,o){if(null!=e.events){if(e.events._=t,e.events[n]===o)return;null==o||"function"!=typeof o&&"object"!=typeof o?(null!=e.events[n]&&e.dom.removeEventListener(n.slice(2),e.events,!1),e.events[n]=void 0):(null==e.events[n]&&e.dom.addEventListener(n.slice(2),e.events,!1),e.events[n]=o)}else null==o||"function"!=typeof o&&"object"!=typeof o||(e.events=new M,e.dom.addEventListener(n.slice(2),e.events,!1),e.events[n]=o)}function j(t,e,n){"function"==typeof t.oninit&&u.call(t.oninit,e),"function"==typeof t.oncreate&&n.push(u.bind(t.oncreate,e))}function R(t,e,n){"function"==typeof t.onupdate&&n.push(u.bind(t.onupdate,e))}return M.prototype=Object.create(null),M.prototype.handleEvent=function(t){var e,n=this["on"+t.type];"function"==typeof n?e=n.call(t.currentTarget,t):"function"==typeof n.handleEvent&&n.handleEvent(t);var o=this;null!=o._&&(!1!==t.redraw&&(0,o._)(),null!=e&&"function"==typeof e.then&&Promise.resolve(e).then(function(){null!=o._&&!1!==t.redraw&&(0,o._)()})),!1===e&&(t.preventDefault(),t.stopPropagation())},function(n,r,i){if(!n)throw new TypeError("DOM element being rendered to does not exist.");if(null!=b&&n.contains(b))throw new TypeError("Node is currently being rendered to and thus is locked.");var a=t,l=b,s=[],u=c(n),d=n.namespaceURI;b=n,t="function"==typeof i?i:void 0,e={};try{null==n.vnodes&&(n.textContent=""),r=o.normalizeChildren(Array.isArray(r)?r:[r]),m(n,n.vnodes,r,s,null,"http://www.w3.org/1999/xhtml"===d?void 0:d),n.vnodes=r,null!=u&&c(n)!==u&&"function"==typeof u.focus&&u.focus();for(var f=0;f<s.length;f++)s[f]()}finally{t=a,b=l}}}},85:(t,e,n)=>{"use strict";var o=n(155),r=n(499);t.exports=function(t,e){function n(t){return new Promise(t)}function i(t,e){for(var n in t.headers)if(r.call(t.headers,n)&&n.toLowerCase()===e)return!0;return!1}return n.prototype=Promise.prototype,n.__proto__=Promise,{request:function(a,l){"string"!=typeof a?(l=a,a=a.url):null==l&&(l={});var s=function(e,n){return new Promise(function(a,l){e=o(e,n.params);var s,u=null!=n.method?n.method.toUpperCase():"GET",c=n.body,d=(null==n.serialize||n.serialize===JSON.serialize)&&!(c instanceof t.FormData||c instanceof t.URLSearchParams),f=n.responseType||("function"==typeof n.extract?"":"json"),h=new t.XMLHttpRequest,p=!1,m=!1,v=h,g=h.abort;for(var b in h.abort=function(){p=!0,g.call(this)},h.open(u,e,!1!==n.async,"string"==typeof n.user?n.user:void 0,"string"==typeof n.password?n.password:void 0),d&&null!=c&&!i(n,"content-type")&&h.setRequestHeader("Content-Type","application/json; charset=utf-8"),"function"==typeof n.deserialize||i(n,"accept")||h.setRequestHeader("Accept","application/json, text/*"),n.withCredentials&&(h.withCredentials=n.withCredentials),n.timeout&&(h.timeout=n.timeout),h.responseType=f,n.headers)r.call(n.headers,b)&&h.setRequestHeader(b,n.headers[b]);h.onreadystatechange=function(t){if(!p&&4===t.target.readyState)try{var o,r=t.target.status>=200&&t.target.status<300||304===t.target.status||/^file:\/\//i.test(e),i=t.target.response;if("json"===f){if(!t.target.responseType&&"function"!=typeof n.extract)try{i=JSON.parse(t.target.responseText)}catch(t){i=null}}else f&&"text"!==f||null==i&&(i=t.target.responseText);if("function"==typeof n.extract?(i=n.extract(t.target,n),r=!0):"function"==typeof n.deserialize&&(i=n.deserialize(i)),r){if("function"==typeof n.type)if(Array.isArray(i))for(var s=0;s<i.length;s++)i[s]=new n.type(i[s]);else i=new n.type(i);a(i)}else{var u=function(){try{o=t.target.responseText}catch(t){o=i}var e=new Error(o);e.code=t.target.status,e.response=i,l(e)};0===h.status?setTimeout(function(){m||u()}):u()}}catch(t){l(t)}},h.ontimeout=function(t){m=!0;var e=new Error("Request timed out");e.code=t.target.status,l(e)},"function"==typeof n.config&&(h=n.config(h,n,e)||h)!==v&&(s=h.abort,h.abort=function(){p=!0,s.call(this)}),null==c?h.send():"function"==typeof n.serialize?h.send(n.serialize(c)):c instanceof t.FormData||c instanceof t.URLSearchParams?h.send(c):h.send(JSON.stringify(c))})}(a,l);if(!0===l.background)return s;var u=0;function c(){0===--u&&"function"==typeof e&&e()}return function t(e){var o=e.then;return e.constructor=n,e.then=function(){u++;var n=o.apply(e,arguments);return n.then(c,function(t){if(c(),0===u)throw t}),t(n)},e}(s)}}}},88:t=>{"use strict";t.exports=function(t){if("[object Object]"!==Object.prototype.toString.call(t))return"";var e=[];for(var n in t)o(n,t[n]);return e.join("&");function o(t,n){if(Array.isArray(n))for(var r=0;r<n.length;r++)o(t+"["+r+"]",n[r]);else if("[object Object]"===Object.prototype.toString.call(n))for(var r in n)o(t+"["+r+"]",n[r]);else e.push(encodeURIComponent(t)+(null!=n&&""!==n?"="+encodeURIComponent(n):""))}}},155:(t,e,n)=>{"use strict";var o=n(88);t.exports=function(t,e){if(/:([^\/\.-]+)(\.{3})?:/.test(t))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(null==e)return t;var n=t.indexOf("?"),r=t.indexOf("#"),i=r<0?t.length:r,a=n<0?i:n,l=t.slice(0,a),s={};Object.assign(s,e);var u=l.replace(/:([^\/\.-]+)(\.{3})?/g,function(t,n,o){return delete s[n],null==e[n]?t:o?e[n]:encodeURIComponent(String(e[n]))}),c=u.indexOf("?"),d=u.indexOf("#"),f=d<0?u.length:d,h=c<0?f:c,p=u.slice(0,h);n>=0&&(p+=t.slice(n,i)),c>=0&&(p+=(n<0?"?":"&")+u.slice(c,f));var m=o(s);return m&&(p+=(n<0&&c<0?"?":"&")+m),r>=0&&(p+=t.slice(r)),d>=0&&(p+=(r<0?"":"&")+u.slice(d)),p}},259:(t,e,n)=>{"use strict";var o=n(383);t.exports=n(676)("undefined"!=typeof window?window:null,o)},280:(t,e,n)=>{"use strict";t.exports=n(43)("undefined"!=typeof window?window:null)},334:(t,e,n)=>{"use strict";var o=n(547),r=n(999),i=n(383),a=n(396),l=function(){return o.apply(this,arguments)};l.m=o,l.trust=o.trust,l.fragment=o.fragment,l.Fragment="[",l.mount=i.mount,l.route=n(259),l.render=n(280),l.redraw=i.redraw,l.request=r.request,l.parseQueryString=n(995),l.buildQueryString=n(88),l.parsePathname=n(960),l.buildPathname=n(155),l.vnode=n(461),l.censor=n(397),l.domFor=a.domFor,t.exports=l},383:(t,e,n)=>{"use strict";var o=n(280);t.exports=n(914)(o,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:null,"undefined"!=typeof console?console:null)},396:t=>{"use strict";var e=new WeakMap;t.exports={delayedRemoval:e,domFor:function*(t){var n=t.dom,o=t.domSize,r=e.get(n);if(null!=n)do{var i=n.nextSibling;e.get(n)===r&&(yield n,o--),n=i}while(o)}}},397:(t,e,n)=>{"use strict";var o=n(499),r=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");t.exports=function(t,e){var n={};if(null!=e)for(var i in t)o.call(t,i)&&!r.test(i)&&e.indexOf(i)<0&&(n[i]=t[i]);else for(var i in t)o.call(t,i)&&!r.test(i)&&(n[i]=t[i]);return n}},461:t=>{"use strict";function e(t,e,n,o,r,i){return{tag:t,key:e,attrs:n,children:o,text:r,dom:i,is:void 0,domSize:void 0,state:void 0,events:void 0,instance:void 0}}e.normalize=function(t){return Array.isArray(t)?e("[",void 0,void 0,e.normalizeChildren(t),void 0,void 0):null==t||"boolean"==typeof t?null:"object"==typeof t?t:e("#",void 0,void 0,String(t),void 0,void 0)},e.normalizeChildren=function(t){var n=[];if(t.length){for(var o=null!=t[0]&&null!=t[0].key,r=1;r<t.length;r++)if((null!=t[r]&&null!=t[r].key)!==o)throw new TypeError(!o||null!=t[r]&&"boolean"!=typeof t[r]?"In fragments, vnodes must either all have keys or none have keys.":"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.");for(r=0;r<t.length;r++)n[r]=e.normalize(t[r])}return n},t.exports=e},499:t=>{"use strict";t.exports={}.hasOwnProperty},537:(t,e,n)=>{"use strict";var o=n(461);t.exports=function(t){return null==t&&(t=""),o("<",void 0,void 0,t,void 0,void 0)}},547:(t,e,n)=>{"use strict";var o=n(838);o.trust=n(537),o.fragment=n(691),t.exports=o},676:(t,e,n)=>{"use strict";var o=n(461),r=n(838),i=n(155),a=n(960),l=n(796),s=n(397);function u(t){try{return decodeURIComponent(t)}catch(e){return t}}t.exports=function(t,e){var n,c,d,f,h,p,m,v,g=null==t?null:"function"==typeof t.setImmediate?t.setImmediate:t.setTimeout,b=Promise.resolve(),y=!1,w=!1,S=!1,x={onremove:function(){w=S=!1,t.removeEventListener("popstate",C,!1)},view:function(){var t=o(h,p.key,p);return f?f.render(t):[t]}},E=_.SKIP={};function D(){y=!1;var o=t.location.hash;"#"!==_.prefix[0]&&(o=t.location.search+o,"?"!==_.prefix[0]&&"/"!==(o=t.location.pathname+o)[0]&&(o="/"+o));var r=o.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,u).slice(_.prefix.length),i=a(r);function l(t){console.error(t),_.set(d,null,{replace:!0})}Object.assign(i.params,t.history.state),function t(o){for(;o<c.length;o++)if(c[o].check(i)){var a=c[o].component,s=c[o].route,u=a,g=v=function(l){if(g===v){if(l===E)return t(o+1);h=null==l||"function"!=typeof l.view&&"function"!=typeof l?"div":l,p=i.params,m=r,v=null,f=a.render?a:null,S?e.redraw():(S=!0,e.mount(n,x))}};return void(a.view||"function"==typeof a?(a={},g(u)):a.onmatch?b.then(function(){return a.onmatch(i.params,r,s)}).then(g,r===d?null:l):g())}if(r===d)throw new Error("Could not resolve default route "+d+".");_.set(d,null,{replace:!0})}(0)}function C(){y||(y=!0,g(D))}function _(e,o,r){if(!e)throw new TypeError("DOM element being rendered to does not exist.");if(c=Object.keys(r).map(function(t){if("/"!==t[0])throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(t))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:t,component:r[t],check:l(t)}}),d=o,null!=o){var i=a(o);if(!c.some(function(t){return t.check(i)}))throw new ReferenceError("Default route doesn't match any known routes.")}n=e,t.addEventListener("popstate",C,!1),w=!0,D()}return _.set=function(e,n,o){if(null!=v&&((o=o||{}).replace=!0),v=null,e=i(e,n),w){C();var r=o?o.state:null,a=o?o.title:null;o&&o.replace?t.history.replaceState(r,a,_.prefix+e):t.history.pushState(r,a,_.prefix+e)}else t.location.href=_.prefix+e},_.get=function(){return m},_.prefix="#!",_.Link={view:function(t){var e,n,o,a=r(t.attrs.selector||"a",s(t.attrs,["options","params","selector","onclick"]),t.children);return(a.attrs.disabled=Boolean(a.attrs.disabled))?(a.attrs.href=null,a.attrs["aria-disabled"]="true"):(e=t.attrs.options,n=t.attrs.onclick,o=i(a.attrs.href,t.attrs.params),a.attrs.href=_.prefix+o,a.attrs.onclick=function(t){var r;"function"==typeof n?r=n.call(t.currentTarget,t):null==n||"object"!=typeof n||"function"==typeof n.handleEvent&&n.handleEvent(t),!1===r||t.defaultPrevented||0!==t.button&&0!==t.which&&1!==t.which||t.currentTarget.target&&"_self"!==t.currentTarget.target||t.ctrlKey||t.metaKey||t.shiftKey||t.altKey||(t.preventDefault(),t.redraw=!1,_.set(o,null,e))}),a}},_.param=function(t){return p&&null!=t?p[t]:p},_}},691:(t,e,n)=>{"use strict";var o=n(461),r=n(2);t.exports=function(){var t=r.apply(0,arguments);return t.tag="[",t.children=o.normalizeChildren(t.children),t}},796:(t,e,n)=>{"use strict";var o=n(960);t.exports=function(t){var e=o(t),n=Object.keys(e.params),r=[],i=new RegExp("^"+e.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(t,e,n){return null==e?"\\"+t:(r.push({k:e,r:"..."===n}),"..."===n?"(.*)":"."===n?"([^/]+)\\.":"([^/]+)"+(n||""))})+"\\/?$");return function(t){for(var o=0;o<n.length;o++)if(e.params[n[o]]!==t.params[n[o]])return!1;if(!r.length)return i.test(t.path);var a=i.exec(t.path);if(null==a)return!1;for(o=0;o<r.length;o++)t.params[r[o].k]=r[o].r?a[o+1]:decodeURIComponent(a[o+1]);return!0}}},838:(t,e,n)=>{"use strict";var o=n(461),r=n(2),i=n(499),a=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,l=Object.create(null);t.exports=function(t){if(null==t||"string"!=typeof t&&"function"!=typeof t&&"function"!=typeof t.view)throw Error("The selector must be either a string or a component.");var e=r.apply(1,arguments);return"string"==typeof t&&(e.children=o.normalizeChildren(e.children),"["!==t)?function(t,e){var n=e.attrs,o=i.call(n,"class"),r=o?n.class:n.className;return e.tag=t.tag,null!=t.attrs?(n=Object.assign({},t.attrs,n),null==r&&null==t.attrs.className||(n.className=null!=r?null!=t.attrs.className?String(t.attrs.className)+" "+String(r):r:null!=t.attrs.className?t.attrs.className:null)):null!=r&&(n.className=r),o&&(n.class=null),"input"===t.tag&&i.call(n,"type")&&(n=Object.assign({type:n.type},n)),e.is=n.is,e.attrs=n,e}(l[t]||function(t){for(var e,n="div",o=[],r={};e=a.exec(t);){var s=e[1],u=e[2];if(""===s&&""!==u)n=u;else if("#"===s)r.id=u;else if("."===s)o.push(u);else if("["===e[3][0]){var c=e[6];c&&(c=c.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===e[4]?o.push(c):r[e[4]]=""===c?c:c||!0}}return o.length>0&&(r.className=o.join(" ")),function(t){for(var e in t)if(i.call(t,e))return!1;return!0}(r)&&(r=null),l[t]={tag:n,attrs:r}}(t),e):(e.tag=t,e)}},914:(t,e,n)=>{"use strict";var o=n(461);t.exports=function(t,e,n){var r=[],i=!1,a=-1;function l(){for(a=0;a<r.length;a+=2)try{t(r[a],o(r[a+1]),s)}catch(t){n.error(t)}a=-1}function s(){i||(i=!0,e(function(){i=!1,l()}))}return s.sync=l,{mount:function(e,n){if(null!=n&&null==n.view&&"function"!=typeof n)throw new TypeError("m.mount expects a component, not a vnode.");var i=r.indexOf(e);i>=0&&(r.splice(i,2),i<=a&&(a-=2),t(e,[])),null!=n&&(r.push(e,n),t(e,o(n),s))},redraw:s}}},960:(t,e,n)=>{"use strict";var o=n(995);t.exports=function(t){var e=t.indexOf("?"),n=t.indexOf("#"),r=n<0?t.length:n,i=e<0?r:e,a=t.slice(0,i).replace(/\/{2,}/g,"/");return a?"/"!==a[0]&&(a="/"+a):a="/",{path:a,params:e<0?{}:o(t.slice(e+1,r))}}},995:t=>{"use strict";function e(t){try{return decodeURIComponent(t)}catch(e){return t}}t.exports=function(t){if(""===t||null==t)return{};"?"===t.charAt(0)&&(t=t.slice(1));for(var n=t.split("&"),o={},r={},i=0;i<n.length;i++){var a=n[i].split("="),l=e(a[0]),s=2===a.length?e(a[1]):"";"true"===s?s=!0:"false"===s&&(s=!1);var u=l.split(/\]\[?|\[/),c=r;l.indexOf("[")>-1&&u.pop();for(var d=0;d<u.length;d++){var f=u[d],h=u[d+1],p=""==h||!isNaN(parseInt(h,10));if(""===f)null==o[l=u.slice(0,d).join()]&&(o[l]=Array.isArray(c)?c.length:0),f=o[l]++;else if("__proto__"===f)break;if(d===u.length-1)c[f]=s;else{var m=Object.getOwnPropertyDescriptor(c,f);null!=m&&(m=m.value),null==m&&(c[f]=m=p?[]:{}),c=m}}}return r}},999:(t,e,n)=>{"use strict";var o=n(383);t.exports=n(85)("undefined"!=typeof window?window:null,o.redraw)}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";const t=flarum.core.compat["admin/app"];var e=n.n(t);function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o(t,e)}const i=flarum.core.compat["admin/components/ExtensionPage"];var a=n.n(i);const l=flarum.core.compat["common/components/Button"];var s=n.n(l);const u=flarum.core.compat["common/components/Modal"];var c=n.n(u);const d=flarum.core.compat["common/utils/Stream"];var f=n.n(d),h=n(334),p=n.n(h),m=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).ButtonsCustomizationItemData=void 0,e.settingType=void 0,e.itemName=void 0,e.itemUrl=void 0,e.itemIcon=void 0,e.itemColor=void 0,e.loading=void 0,e}r(n,t);var o=n.prototype;return o.oninit=function(e){t.prototype.oninit.call(this,e),this.ButtonsCustomizationItemData=this.attrs.ButtonsCustomizationItemData,this.settingType="add",this.loading=!1,this.ButtonsCustomizationItemData?(this.settingType="edit",this.itemName=f()(this.ButtonsCustomizationItemData.name()),this.itemUrl=f()(this.ButtonsCustomizationItemData.url()),this.itemIcon=f()(this.ButtonsCustomizationItemData.icon()),this.itemColor=f()(this.ButtonsCustomizationItemData.color())):(this.itemName=f()(""),this.itemUrl=f()(""),this.itemIcon=f()(""),this.itemColor=f()(""))},o.className=function(){return"Modal--medium"},o.title=function(){return"add"===this.settingType?e().translator.trans("client1-buttons-customization.admin.settings.item-add"):e().translator.trans("client1-buttons-customization.admin.settings.item-edit")},o.content=function(){var t=this;return p()("div",{className:"Modal-body"},[p()("div",{className:"Form"},[p()("div",{className:"Form-group",style:"text-align: center;"},[p()("div",[p()("div",{className:"GuaGuaLeSettingsLabel"},e().translator.trans("client1-buttons-customization.admin.settings.item-name")),p()("input",{maxlength:255,required:!0,className:"FormControl",value:this.itemName(),oninput:function(e){return t.itemName(e.target.value)}}),p()("div",{className:"GuaGuaLeSettingsLabel"},e().translator.trans("client1-buttons-customization.admin.settings.item-url")),p()("input",{maxlength:500,required:!0,className:"FormControl",value:this.itemUrl(),oninput:function(e){return t.itemUrl(e.target.value)}}),p()("div",{className:"GuaGuaLeSettingsLabel"},e().translator.trans("client1-buttons-customization.admin.settings.item-icon")),p()("input",{maxlength:50,required:!0,className:"FormControl",value:this.itemIcon(),oninput:function(e){return t.itemIcon(e.target.value)}})])]),p()("div",{className:"Form-group",style:"text-align: center;"},[p()(s(),{className:"Button Button--primary",type:"submit",loading:this.loading},e().translator.trans("client1-buttons-customization.admin.confirm"))," ",p()(s(),{className:"Button guagualeButton--gray",loading:this.loading,onclick:function(){return t.hide()}},e().translator.trans("client1-buttons-customization.admin.cancel"))])])])},o.onsubmit=function(t){var n=this;t.preventDefault(),this.loading=!0,"edit"===this.settingType&&this.ButtonsCustomizationItemData?this.ButtonsCustomizationItemData.save({name:this.itemName(),url:this.itemUrl(),icon:this.itemIcon(),color:this.itemColor()}).then(function(){return n.hide()}).catch(function(t){n.loading=!1,n.handleErrors(t)}):e().store.createRecord("buttonsCustomizationList").save({name:this.itemName(),url:this.itemUrl(),icon:this.itemIcon(),color:this.itemColor()}).then(function(){location.reload()}).catch(function(t){n.loading=!1,n.handleErrors(t)})},o.handleErrors=function(t){console.error("ButtonsCustomizationAddModal error",t),e().alerts.show({type:"error"},e().translator.trans("client1-buttons-customization.admin.save-error"))},n}(c());m.isDismissible=!1;const v=flarum.core.compat["common/Component"];var g=n.n(v),b=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).ButtonsCustomizationItemData=void 0,e.loading=void 0,e}r(n,t);var o=n.prototype;return o.oninit=function(e){t.prototype.oninit.call(this,e),this.ButtonsCustomizationItemData=this.attrs.ButtonsCustomizationItemData,this.loading=!1},o.className=function(){return"Modal--small"},o.title=function(){return e().translator.trans("client1-buttons-customization.admin.settings.item-delete-confirmation")},o.content=function(){var t=this;return p()("div",{className:"Modal-body"},[p()("div",{className:"Form-group",style:"text-align: center;"},[p()(s(),{className:"Button Button--primary",type:"submit",loading:this.loading},e().translator.trans("client1-buttons-customization.admin.confirm"))," ",p()(s(),{className:"Button guagualeButton--gray",loading:this.loading,onclick:function(){return t.hide()}},e().translator.trans("client1-buttons-customization.admin.cancel"))])])},o.onsubmit=function(t){t.preventDefault(),this.loading=!0,this.ButtonsCustomizationItemData.delete().then(function(){location.reload()})},n}(c());b.isDismissible=!1;var y=function(t){function n(){return t.apply(this,arguments)||this}r(n,t);var o=n.prototype;return o.view=function(){var t=this,n=this.attrs.ButtonsCustomizationItemData,o=n.id(),r=n.name(),i=n.url(),a=n.icon();return p()("div",{style:"border: 1px dotted var(--control-color);padding: 10px;border-radius: 4px;"},[p()("div",[p()("div",{style:"padding-top: 5px;"},[p()(s(),{className:"Button Button--primary",onclick:function(){return t.editItem(n)}},e().translator.trans("client1-buttons-customization.admin.settings.item-edit"))," ",p()(s(),{className:"Button Button--danger",style:"font-weight:bold;width:66px;",onclick:function(){return t.deleteItem(n)}},e().translator.trans("client1-buttons-customization.admin.settings.item-delete"))," ",p()("b",e().translator.trans("client1-buttons-customization.admin.settings.item-id")+": "),o," | ",p()("i",{className:a})," ",p()("b",e().translator.trans("client1-buttons-customization.admin.settings.item-name")+": "),r," | ",p()("b",e().translator.trans("client1-buttons-customization.admin.settings.item-url")+": "),i," "])])])},o.editItem=function(t){e().modal.show(m,{ButtonsCustomizationItemData:t})},o.deleteItem=function(t){e().modal.show(b,{ButtonsCustomizationItemData:t})},n}(g());function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach(function(e){E(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D(){return D=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},D.apply(this,arguments)}function C(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var _=C(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),T=C(/Edge/i),N=C(/firefox/i),O=C(/safari/i)&&!C(/chrome/i)&&!C(/android/i),I=C(/iP(ad|od|hone)/i),k=C(/chrome/i)&&C(/android/i),z={capture:!1,passive:!1};function A(t,e,n){t.addEventListener(e,n,!_&&z)}function P(t,e,n){t.removeEventListener(e,n,!_&&z)}function M(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function B(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function j(t,e,n,o){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&M(t,e):M(t,e))||o&&t===n)return t;if(t===n)break}while(t=B(t))}return null}var R,L=/\s+/g;function F(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(L," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace(L," ")}}function X(t,e,n){var o=t&&t.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in o||-1!==e.indexOf("webkit")||(e="-webkit-"+e),o[e]=n+("string"==typeof n?"":"px")}}function Y(t,e){var n="";if("string"==typeof t)n=t;else do{var o=X(t,"transform");o&&"none"!==o&&(n=o+" "+n)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function H(t,e,n){if(t){var o=t.getElementsByTagName(e),r=0,i=o.length;if(n)for(;r<i;r++)n(o[r],r);return o}return[]}function $(){return document.scrollingElement||document.documentElement}function U(t,e,n,o,r){if(t.getBoundingClientRect||t===window){var i,a,l,s,u,c,d;if(t!==window&&t.parentNode&&t!==$()?(a=(i=t.getBoundingClientRect()).top,l=i.left,s=i.bottom,u=i.right,c=i.height,d=i.width):(a=0,l=0,s=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(r=r||t.parentNode,!_))do{if(r&&r.getBoundingClientRect&&("none"!==X(r,"transform")||n&&"static"!==X(r,"position"))){var f=r.getBoundingClientRect();a-=f.top+parseInt(X(r,"border-top-width")),l-=f.left+parseInt(X(r,"border-left-width")),s=a+i.height,u=l+i.width;break}}while(r=r.parentNode);if(o&&t!==window){var h=Y(r||t),p=h&&h.a,m=h&&h.d;h&&(s=(a/=m)+(c/=m),u=(l/=p)+(d/=p))}return{top:a,left:l,bottom:s,right:u,width:d,height:c}}}function W(t,e,n){for(var o=J(t,!0),r=U(t)[e];o;){var i=U(o)[n];if(!("top"===n||"left"===n?r>=i:r<=i))return o;if(o===$())break;o=J(o,!1)}return!1}function q(t,e,n,o){for(var r=0,i=0,a=t.children;i<a.length;){if("none"!==a[i].style.display&&a[i]!==te.ghost&&(o||a[i]!==te.dragged)&&j(a[i],n.draggable,t,!1)){if(r===e)return a[i];r++}i++}return null}function G(t,e){for(var n=t.lastElementChild;n&&(n===te.ghost||"none"===X(n,"display")||e&&!M(n,e));)n=n.previousElementSibling;return n||null}function K(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===te.clone||e&&!M(t,e)||n++;return n}function V(t){var e=0,n=0,o=$();if(t)do{var r=Y(t),i=r.a,a=r.d;e+=t.scrollLeft*i,n+=t.scrollTop*a}while(t!==o&&(t=t.parentNode));return[e,n]}function J(t,e){if(!t||!t.getBoundingClientRect)return $();var n=t,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=X(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return $();if(o||e)return n;o=!0}}}while(n=n.parentNode);return $()}function Q(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function Z(t,e){return function(){if(!R){var n=arguments;1===n.length?t.call(this,n[0]):t.apply(this,n),R=setTimeout(function(){R=void 0},e)}}}function tt(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function et(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function nt(t,e,n){var o={};return Array.from(t.children).forEach(function(r){var i,a,l,s;if(j(r,e.draggable,t,!1)&&!r.animated&&r!==n){var u=U(r);o.left=Math.min(null!==(i=o.left)&&void 0!==i?i:1/0,u.left),o.top=Math.min(null!==(a=o.top)&&void 0!==a?a:1/0,u.top),o.right=Math.max(null!==(l=o.right)&&void 0!==l?l:-1/0,u.right),o.bottom=Math.max(null!==(s=o.bottom)&&void 0!==s?s:-1/0,u.bottom)}}),o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}var ot="Sortable"+(new Date).getTime();var rt=[],it={initializeByDefault:!0},at={mount:function(t){for(var e in it)it.hasOwnProperty(e)&&!(e in t)&&(t[e]=it[e]);rt.forEach(function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),rt.push(t)},pluginEvent:function(t,e,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var r=t+"Global";rt.forEach(function(o){e[o.pluginName]&&(e[o.pluginName][r]&&e[o.pluginName][r](S({sortable:e},n)),e.options[o.pluginName]&&e[o.pluginName][t]&&e[o.pluginName][t](S({sortable:e},n)))})},initializePlugins:function(t,e,n,o){for(var r in rt.forEach(function(o){var r=o.pluginName;if(t.options[r]||o.initializeByDefault){var i=new o(t,e,t.options);i.sortable=t,i.options=t.options,t[r]=i,D(n,i.defaults)}}),t.options)if(t.options.hasOwnProperty(r)){var i=this.modifyOption(t,r,t.options[r]);void 0!==i&&(t.options[r]=i)}},getEventProperties:function(t,e){var n={};return rt.forEach(function(o){"function"==typeof o.eventProperties&&D(n,o.eventProperties.call(e[o.pluginName],t))}),n},modifyOption:function(t,e,n){var o;return rt.forEach(function(r){t[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[e]&&(o=r.optionListeners[e].call(t[r.pluginName],n))}),o}};var lt=["evt"],st=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.evt,r=function(t,e){if(null==t)return{};var n,o,r=function(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}(n,lt);at.pluginEvent.bind(te)(t,e,S({dragEl:ct,parentEl:dt,ghostEl:ft,rootEl:ht,nextEl:pt,lastDownEl:mt,cloneEl:vt,cloneHidden:gt,dragStarted:It,putSortable:Et,activeSortable:te.active,originalEvent:o,oldIndex:bt,oldDraggableIndex:wt,newIndex:yt,newDraggableIndex:St,hideGhostForTarget:Vt,unhideGhostForTarget:Jt,cloneNowHidden:function(){gt=!0},cloneNowShown:function(){gt=!1},dispatchSortableEvent:function(t){ut({sortable:e,name:t,originalEvent:o})}},r))};function ut(t){!function(t){var e=t.sortable,n=t.rootEl,o=t.name,r=t.targetEl,i=t.cloneEl,a=t.toEl,l=t.fromEl,s=t.oldIndex,u=t.newIndex,c=t.oldDraggableIndex,d=t.newDraggableIndex,f=t.originalEvent,h=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[ot]){var m,v=e.options,g="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||_||T?(m=document.createEvent("Event")).initEvent(o,!0,!0):m=new CustomEvent(o,{bubbles:!0,cancelable:!0}),m.to=a||n,m.from=l||n,m.item=r||n,m.clone=i,m.oldIndex=s,m.newIndex=u,m.oldDraggableIndex=c,m.newDraggableIndex=d,m.originalEvent=f,m.pullMode=h?h.lastPutMode:void 0;var b=S(S({},p),at.getEventProperties(o,e));for(var y in b)m[y]=b[y];n&&n.dispatchEvent(m),v[g]&&v[g].call(e,m)}}(S({putSortable:Et,cloneEl:vt,targetEl:ct,rootEl:ht,oldIndex:bt,oldDraggableIndex:wt,newIndex:yt,newDraggableIndex:St},t))}var ct,dt,ft,ht,pt,mt,vt,gt,bt,yt,wt,St,xt,Et,Dt,Ct,_t,Tt,Nt,Ot,It,kt,zt,At,Pt,Mt=!1,Bt=!1,jt=[],Rt=!1,Lt=!1,Ft=[],Xt=!1,Yt=[],Ht="undefined"!=typeof document,$t=I,Ut=T||_?"cssFloat":"float",Wt=Ht&&!k&&!I&&"draggable"in document.createElement("div"),qt=function(){if(Ht){if(_)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Gt=function(t,e){var n=X(t),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=q(t,0,e),i=q(t,1,e),a=r&&X(r),l=i&&X(i),s=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+U(r).width,u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+U(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&"none"!==a.float){var c="left"===a.float?"left":"right";return!i||"both"!==l.clear&&l.clear!==c?"horizontal":"vertical"}return r&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||s>=o&&"none"===n[Ut]||i&&"none"===n[Ut]&&s+u>o)?"vertical":"horizontal"},Kt=function(t){function e(t,n){return function(o,r,i,a){var l=o.options.group.name&&r.options.group.name&&o.options.group.name===r.options.group.name;if(null==t&&(n||l))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"==typeof t)return e(t(o,r,i,a),n)(o,r,i,a);var s=(n?o:r).options.group.name;return!0===t||"string"==typeof t&&t===s||t.join&&t.indexOf(s)>-1}}var n={},o=t.group;o&&"object"==x(o)||(o={name:o}),n.name=o.name,n.checkPull=e(o.pull,!0),n.checkPut=e(o.put),n.revertClone=o.revertClone,t.group=n},Vt=function(){!qt&&ft&&X(ft,"display","none")},Jt=function(){!qt&&ft&&X(ft,"display","")};Ht&&!k&&document.addEventListener("click",function(t){if(Bt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Bt=!1,!1},!0);var Qt=function(t){if(ct){t=t.touches?t.touches[0]:t;var e=(r=t.clientX,i=t.clientY,jt.some(function(t){var e=t[ot].options.emptyInsertThreshold;if(e&&!G(t)){var n=U(t),o=r>=n.left-e&&r<=n.right+e,l=i>=n.top-e&&i<=n.bottom+e;return o&&l?a=t:void 0}}),a);if(e){var n={};for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[ot]._onDragOver(n)}}var r,i,a},Zt=function(t){ct&&ct.parentNode[ot]._isOutsideThisEl(t.target)};function te(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=D({},e),t[ot]=this;var n,o,r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Gt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==te.supportPointer&&"PointerEvent"in window&&(!O||I),emptyInsertThreshold:5};for(var i in at.initializePlugins(this,t,r),r)!(i in e)&&(e[i]=r[i]);for(var a in Kt(e),this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!e.forceFallback&&Wt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?A(t,"pointerdown",this._onTapStart):(A(t,"mousedown",this._onTapStart),A(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(A(t,"dragover",this),A(t,"dragenter",this)),jt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),D(this,(o=[],{captureAnimationState:function(){o=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(t){if("none"!==X(t,"display")&&t!==te.ghost){o.push({target:t,rect:U(t)});var e=S({},o[o.length-1].rect);if(t.thisAnimationDuration){var n=Y(t,!0);n&&(e.top-=n.f,e.left-=n.e)}t.fromRect=e}})},addAnimationState:function(t){o.push(t)},removeAnimationState:function(t){o.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var o in e)if(e.hasOwnProperty(o)&&e[o]===t[n][o])return Number(n);return-1}(o,{target:t}),1)},animateAll:function(t){var e=this;if(!this.options.animation)return clearTimeout(n),void("function"==typeof t&&t());var r=!1,i=0;o.forEach(function(t){var n=0,o=t.target,a=o.fromRect,l=U(o),s=o.prevFromRect,u=o.prevToRect,c=t.rect,d=Y(o,!0);d&&(l.top-=d.f,l.left-=d.e),o.toRect=l,o.thisAnimationDuration&&Q(s,l)&&!Q(a,l)&&(c.top-l.top)/(c.left-l.left)===(a.top-l.top)/(a.left-l.left)&&(n=function(t,e,n,o){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*o.animation}(c,s,u,e.options)),Q(l,a)||(o.prevFromRect=a,o.prevToRect=l,n||(n=e.options.animation),e.animate(o,c,l,n)),n&&(r=!0,i=Math.max(i,n),clearTimeout(o.animationResetTimer),o.animationResetTimer=setTimeout(function(){o.animationTime=0,o.prevFromRect=null,o.fromRect=null,o.prevToRect=null,o.thisAnimationDuration=null},n),o.thisAnimationDuration=n)}),clearTimeout(n),r?n=setTimeout(function(){"function"==typeof t&&t()},i):"function"==typeof t&&t(),o=[]},animate:function(t,e,n,o){if(o){X(t,"transition",""),X(t,"transform","");var r=Y(this.el),i=r&&r.a,a=r&&r.d,l=(e.left-n.left)/(i||1),s=(e.top-n.top)/(a||1);t.animatingX=!!l,t.animatingY=!!s,X(t,"transform","translate3d("+l+"px,"+s+"px,0)"),this.forRepaintDummy=function(t){return t.offsetWidth}(t),X(t,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),X(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){X(t,"transition",""),X(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},o)}}}))}function ee(t,e,n,o,r,i,a,l){var s,u,c=t[ot],d=c.options.onMove;return!window.CustomEvent||_||T?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=e,s.from=t,s.dragged=n,s.draggedRect=o,s.related=r||e,s.relatedRect=i||U(e),s.willInsertAfter=l,s.originalEvent=a,t.dispatchEvent(s),d&&(u=d.call(c,s,a)),u}function ne(t){t.draggable=!1}function oe(){Xt=!1}function re(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}function ie(t){return setTimeout(t,0)}function ae(t){return clearTimeout(t)}te.prototype={constructor:te,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(kt=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,ct):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,o=this.options,r=o.preventOnFilter,i=t.type,a=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,l=(a||t).target,s=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,u=o.filter;if(function(t){Yt.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var o=e[n];o.checked&&Yt.push(o)}}(n),!ct&&!(/mousedown|pointerdown/.test(i)&&0!==t.button||o.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!O||!l||"SELECT"!==l.tagName.toUpperCase())&&!((l=j(l,o.draggable,n,!1))&&l.animated||mt===l)){if(bt=K(l),wt=K(l,o.draggable),"function"==typeof u){if(u.call(this,t,l,this))return ut({sortable:e,rootEl:s,name:"filter",targetEl:l,toEl:n,fromEl:n}),st("filter",e,{evt:t}),void(r&&t.preventDefault())}else if(u&&(u=u.split(",").some(function(o){if(o=j(s,o.trim(),n,!1))return ut({sortable:e,rootEl:o,name:"filter",targetEl:l,fromEl:n,toEl:n}),st("filter",e,{evt:t}),!0})))return void(r&&t.preventDefault());o.handle&&!j(s,o.handle,n,!1)||this._prepareDragStart(t,a,l)}}},_prepareDragStart:function(t,e,n){var o,r=this,i=r.el,a=r.options,l=i.ownerDocument;if(n&&!ct&&n.parentNode===i){var s=U(n);if(ht=i,dt=(ct=n).parentNode,pt=ct.nextSibling,mt=n,xt=a.group,te.dragged=ct,Dt={target:ct,clientX:(e||t).clientX,clientY:(e||t).clientY},Nt=Dt.clientX-s.left,Ot=Dt.clientY-s.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,ct.style["will-change"]="all",o=function(){st("delayEnded",r,{evt:t}),te.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!N&&r.nativeDraggable&&(ct.draggable=!0),r._triggerDragStart(t,e),ut({sortable:r,name:"choose",originalEvent:t}),F(ct,a.chosenClass,!0))},a.ignore.split(",").forEach(function(t){H(ct,t.trim(),ne)}),A(l,"dragover",Qt),A(l,"mousemove",Qt),A(l,"touchmove",Qt),a.supportPointer?(A(l,"pointerup",r._onDrop),!this.nativeDraggable&&A(l,"pointercancel",r._onDrop)):(A(l,"mouseup",r._onDrop),A(l,"touchend",r._onDrop),A(l,"touchcancel",r._onDrop)),N&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ct.draggable=!0),st("delayStart",this,{evt:t}),!a.delay||a.delayOnTouchOnly&&!e||this.nativeDraggable&&(T||_))o();else{if(te.eventCanceled)return void this._onDrop();a.supportPointer?(A(l,"pointerup",r._disableDelayedDrag),A(l,"pointercancel",r._disableDelayedDrag)):(A(l,"mouseup",r._disableDelayedDrag),A(l,"touchend",r._disableDelayedDrag),A(l,"touchcancel",r._disableDelayedDrag)),A(l,"mousemove",r._delayedDragTouchMoveHandler),A(l,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&A(l,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(o,a.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ct&&ne(ct),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;P(t,"mouseup",this._disableDelayedDrag),P(t,"touchend",this._disableDelayedDrag),P(t,"touchcancel",this._disableDelayedDrag),P(t,"pointerup",this._disableDelayedDrag),P(t,"pointercancel",this._disableDelayedDrag),P(t,"mousemove",this._delayedDragTouchMoveHandler),P(t,"touchmove",this._delayedDragTouchMoveHandler),P(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?A(document,"pointermove",this._onTouchMove):A(document,e?"touchmove":"mousemove",this._onTouchMove):(A(ct,"dragend",this),A(ht,"dragstart",this._onDragStart));try{document.selection?ie(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(Mt=!1,ht&&ct){st("dragStarted",this,{evt:e}),this.nativeDraggable&&A(document,"dragover",Zt);var n=this.options;!t&&F(ct,n.dragClass,!1),F(ct,n.ghostClass,!0),te.active=this,t&&this._appendGhost(),ut({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(Ct){this._lastX=Ct.clientX,this._lastY=Ct.clientY,Vt();for(var t=document.elementFromPoint(Ct.clientX,Ct.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Ct.clientX,Ct.clientY))!==e;)e=t;if(ct.parentNode[ot]._isOutsideThisEl(t),e)do{if(e[ot]&&e[ot]._onDragOver({clientX:Ct.clientX,clientY:Ct.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break;t=e}while(e=B(e));Jt()}},_onTouchMove:function(t){if(Dt){var e=this.options,n=e.fallbackTolerance,o=e.fallbackOffset,r=t.touches?t.touches[0]:t,i=ft&&Y(ft,!0),a=ft&&i&&i.a,l=ft&&i&&i.d,s=$t&&Pt&&V(Pt),u=(r.clientX-Dt.clientX+o.x)/(a||1)+(s?s[0]-Ft[0]:0)/(a||1),c=(r.clientY-Dt.clientY+o.y)/(l||1)+(s?s[1]-Ft[1]:0)/(l||1);if(!te.active&&!Mt){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(ft){i?(i.e+=u-(_t||0),i.f+=c-(Tt||0)):i={a:1,b:0,c:0,d:1,e:u,f:c};var d="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");X(ft,"webkitTransform",d),X(ft,"mozTransform",d),X(ft,"msTransform",d),X(ft,"transform",d),_t=u,Tt=c,Ct=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!ft){var t=this.options.fallbackOnBody?document.body:ht,e=U(ct,!0,$t,!0,t),n=this.options;if($t){for(Pt=t;"static"===X(Pt,"position")&&"none"===X(Pt,"transform")&&Pt!==document;)Pt=Pt.parentNode;Pt!==document.body&&Pt!==document.documentElement?(Pt===document&&(Pt=$()),e.top+=Pt.scrollTop,e.left+=Pt.scrollLeft):Pt=$(),Ft=V(Pt)}F(ft=ct.cloneNode(!0),n.ghostClass,!1),F(ft,n.fallbackClass,!0),F(ft,n.dragClass,!0),X(ft,"transition",""),X(ft,"transform",""),X(ft,"box-sizing","border-box"),X(ft,"margin",0),X(ft,"top",e.top),X(ft,"left",e.left),X(ft,"width",e.width),X(ft,"height",e.height),X(ft,"opacity","0.8"),X(ft,"position",$t?"absolute":"fixed"),X(ft,"zIndex","100000"),X(ft,"pointerEvents","none"),te.ghost=ft,t.appendChild(ft),X(ft,"transform-origin",Nt/parseInt(ft.style.width)*100+"% "+Ot/parseInt(ft.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,o=t.dataTransfer,r=n.options;st("dragStart",this,{evt:t}),te.eventCanceled?this._onDrop():(st("setupClone",this),te.eventCanceled||((vt=et(ct)).removeAttribute("id"),vt.draggable=!1,vt.style["will-change"]="",this._hideClone(),F(vt,this.options.chosenClass,!1),te.clone=vt),n.cloneId=ie(function(){st("clone",n),te.eventCanceled||(n.options.removeCloneOnHide||ht.insertBefore(vt,ct),n._hideClone(),ut({sortable:n,name:"clone"}))}),!e&&F(ct,r.dragClass,!0),e?(Bt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(P(document,"mouseup",n._onDrop),P(document,"touchend",n._onDrop),P(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",r.setData&&r.setData.call(n,o,ct)),A(document,"drop",n),X(ct,"transform","translateZ(0)")),Mt=!0,n._dragStartId=ie(n._dragStarted.bind(n,e,t)),A(document,"selectstart",n),It=!0,window.getSelection().removeAllRanges(),O&&X(document.body,"user-select","none"))},_onDragOver:function(t){var e,n,o,r,i=this.el,a=t.target,l=this.options,s=l.group,u=te.active,c=xt===s,d=l.sort,f=Et||u,h=this,p=!1;if(!Xt){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),a=j(a,l.draggable,i,!0),I("dragOver"),te.eventCanceled)return p;if(ct.contains(t.target)||a.animated&&a.animatingX&&a.animatingY||h._ignoreWhileAnimating===a)return z(!1);if(Bt=!1,u&&!l.disabled&&(c?d||(o=dt!==ht):Et===this||(this.lastPutMode=xt.checkPull(this,u,ct,t))&&s.checkPut(this,u,ct,t))){if(r="vertical"===this._getDirection(t,a),e=U(ct),I("dragOverValid"),te.eventCanceled)return p;if(o)return dt=ht,k(),this._hideClone(),I("revert"),te.eventCanceled||(pt?ht.insertBefore(ct,pt):ht.appendChild(ct)),z(!0);var m=G(i,l.draggable);if(!m||function(t,e,n){var o=U(G(n.el,n.options.draggable)),r=nt(n.el,n.options,ft);return e?t.clientX>r.right+10||t.clientY>o.bottom&&t.clientX>o.left:t.clientY>r.bottom+10||t.clientX>o.right&&t.clientY>o.top}(t,r,this)&&!m.animated){if(m===ct)return z(!1);if(m&&i===t.target&&(a=m),a&&(n=U(a)),!1!==ee(ht,i,ct,e,a,n,t,!!a))return k(),m&&m.nextSibling?i.insertBefore(ct,m.nextSibling):i.appendChild(ct),dt=i,A(),z(!0)}else if(m&&function(t,e,n){var o=U(q(n.el,0,n.options,!0)),r=nt(n.el,n.options,ft);return e?t.clientX<r.left-10||t.clientY<o.top&&t.clientX<o.right:t.clientY<r.top-10||t.clientY<o.bottom&&t.clientX<o.left}(t,r,this)){var v=q(i,0,l,!0);if(v===ct)return z(!1);if(n=U(a=v),!1!==ee(ht,i,ct,e,a,n,t,!1))return k(),i.insertBefore(ct,v),dt=i,A(),z(!0)}else if(a.parentNode===i){n=U(a);var g,b,y,w=ct.parentNode!==i,x=!function(t,e,n){var o=n?t.left:t.top,r=n?t.right:t.bottom,i=n?t.width:t.height,a=n?e.left:e.top,l=n?e.right:e.bottom,s=n?e.width:e.height;return o===a||r===l||o+i/2===a+s/2}(ct.animated&&ct.toRect||e,a.animated&&a.toRect||n,r),E=r?"top":"left",D=W(a,"top","top")||W(ct,"top","top"),C=D?D.scrollTop:void 0;if(kt!==a&&(b=n[E],Rt=!1,Lt=!x&&l.invertSwap||w),g=function(t,e,n,o,r,i,a,l){var s=o?t.clientY:t.clientX,u=o?n.height:n.width,c=o?n.top:n.left,d=o?n.bottom:n.right,f=!1;if(!a)if(l&&At<u*r){if(!Rt&&(1===zt?s>c+u*i/2:s<d-u*i/2)&&(Rt=!0),Rt)f=!0;else if(1===zt?s<c+At:s>d-At)return-zt}else if(s>c+u*(1-r)/2&&s<d-u*(1-r)/2)return function(t){return K(ct)<K(t)?1:-1}(e);return(f=f||a)&&(s<c+u*i/2||s>d-u*i/2)?s>c+u/2?1:-1:0}(t,a,n,r,x?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Lt,kt===a),0!==g){var _=K(ct);do{_-=g,y=dt.children[_]}while(y&&("none"===X(y,"display")||y===ft))}if(0===g||y===a)return z(!1);kt=a,zt=g;var T=a.nextElementSibling,N=!1,O=ee(ht,i,ct,e,a,n,t,N=1===g);if(!1!==O)return 1!==O&&-1!==O||(N=1===O),Xt=!0,setTimeout(oe,30),k(),N&&!T?i.appendChild(ct):a.parentNode.insertBefore(ct,N?T:a),D&&tt(D,0,C-D.scrollTop),dt=ct.parentNode,void 0===b||Lt||(At=Math.abs(b-U(a)[E])),A(),z(!0)}if(i.contains(ct))return z(!1)}return!1}function I(l,s){st(l,h,S({evt:t,isOwner:c,axis:r?"vertical":"horizontal",revert:o,dragRect:e,targetRect:n,canSort:d,fromSortable:f,target:a,completed:z,onMove:function(n,o){return ee(ht,i,ct,e,n,U(n),t,o)},changed:A},s))}function k(){I("dragOverAnimationCapture"),h.captureAnimationState(),h!==f&&f.captureAnimationState()}function z(e){return I("dragOverCompleted",{insertion:e}),e&&(c?u._hideClone():u._showClone(h),h!==f&&(F(ct,Et?Et.options.ghostClass:u.options.ghostClass,!1),F(ct,l.ghostClass,!0)),Et!==h&&h!==te.active?Et=h:h===te.active&&Et&&(Et=null),f===h&&(h._ignoreWhileAnimating=a),h.animateAll(function(){I("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(a===ct&&!ct.animated||a===i&&!a.animated)&&(kt=null),l.dragoverBubble||t.rootEl||a===document||(ct.parentNode[ot]._isOutsideThisEl(t.target),!e&&Qt(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),p=!0}function A(){yt=K(ct),St=K(ct,l.draggable),ut({sortable:h,name:"change",toEl:i,newIndex:yt,newDraggableIndex:St,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){P(document,"mousemove",this._onTouchMove),P(document,"touchmove",this._onTouchMove),P(document,"pointermove",this._onTouchMove),P(document,"dragover",Qt),P(document,"mousemove",Qt),P(document,"touchmove",Qt)},_offUpEvents:function(){var t=this.el.ownerDocument;P(t,"mouseup",this._onDrop),P(t,"touchend",this._onDrop),P(t,"pointerup",this._onDrop),P(t,"pointercancel",this._onDrop),P(t,"touchcancel",this._onDrop),P(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;yt=K(ct),St=K(ct,n.draggable),st("drop",this,{evt:t}),dt=ct&&ct.parentNode,yt=K(ct),St=K(ct,n.draggable),te.eventCanceled||(Mt=!1,Lt=!1,Rt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ae(this.cloneId),ae(this._dragStartId),this.nativeDraggable&&(P(document,"drop",this),P(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),O&&X(document.body,"user-select",""),X(ct,"transform",""),t&&(It&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),ft&&ft.parentNode&&ft.parentNode.removeChild(ft),(ht===dt||Et&&"clone"!==Et.lastPutMode)&&vt&&vt.parentNode&&vt.parentNode.removeChild(vt),ct&&(this.nativeDraggable&&P(ct,"dragend",this),ne(ct),ct.style["will-change"]="",It&&!Mt&&F(ct,Et?Et.options.ghostClass:this.options.ghostClass,!1),F(ct,this.options.chosenClass,!1),ut({sortable:this,name:"unchoose",toEl:dt,newIndex:null,newDraggableIndex:null,originalEvent:t}),ht!==dt?(yt>=0&&(ut({rootEl:dt,name:"add",toEl:dt,fromEl:ht,originalEvent:t}),ut({sortable:this,name:"remove",toEl:dt,originalEvent:t}),ut({rootEl:dt,name:"sort",toEl:dt,fromEl:ht,originalEvent:t}),ut({sortable:this,name:"sort",toEl:dt,originalEvent:t})),Et&&Et.save()):yt!==bt&&yt>=0&&(ut({sortable:this,name:"update",toEl:dt,originalEvent:t}),ut({sortable:this,name:"sort",toEl:dt,originalEvent:t})),te.active&&(null!=yt&&-1!==yt||(yt=bt,St=wt),ut({sortable:this,name:"end",toEl:dt,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){st("nulling",this),ht=ct=dt=ft=pt=vt=mt=gt=Dt=Ct=It=yt=St=bt=wt=kt=zt=Et=xt=te.dragged=te.ghost=te.clone=te.active=null,Yt.forEach(function(t){t.checked=!0}),Yt.length=_t=Tt=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":ct&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,o=0,r=n.length,i=this.options;o<r;o++)j(t=n[o],i.draggable,this.el,!1)&&e.push(t.getAttribute(i.dataIdAttr)||re(t));return e},sort:function(t,e){var n={},o=this.el;this.toArray().forEach(function(t,e){var r=o.children[e];j(r,this.options.draggable,o,!1)&&(n[t]=r)},this),e&&this.captureAnimationState(),t.forEach(function(t){n[t]&&(o.removeChild(n[t]),o.appendChild(n[t]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return j(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var o=at.modifyOption(this,t,e);n[t]=void 0!==o?o:e,"group"===t&&Kt(n)},destroy:function(){st("destroy",this);var t=this.el;t[ot]=null,P(t,"mousedown",this._onTapStart),P(t,"touchstart",this._onTapStart),P(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(P(t,"dragover",this),P(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),jt.splice(jt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!gt){if(st("hideClone",this),te.eventCanceled)return;X(vt,"display","none"),this.options.removeCloneOnHide&&vt.parentNode&&vt.parentNode.removeChild(vt),gt=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(gt){if(st("showClone",this),te.eventCanceled)return;ct.parentNode!=ht||this.options.group.revertClone?pt?ht.insertBefore(vt,pt):ht.appendChild(vt):ht.insertBefore(vt,ct),this.options.group.revertClone&&this.animate(ct,vt),X(vt,"display",""),gt=!1}}else this._hideClone()}},Ht&&A(document,"touchmove",function(t){(te.active||Mt)&&t.cancelable&&t.preventDefault()}),te.utils={on:A,off:P,css:X,find:H,is:function(t,e){return!!j(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:Z,closest:j,toggleClass:F,clone:et,index:K,nextTick:ie,cancelNextTick:ae,detectDirection:Gt,getChild:q,expando:ot},te.get=function(t){return t[ot]},te.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(te.utils=S(S({},te.utils),t.utils)),at.mount(t)})},te.create=function(t,e){return new te(t,e)},te.version="1.15.6";var le,se,ue,ce,de,fe,he=[],pe=!1;function me(){he.forEach(function(t){clearInterval(t.pid)}),he=[]}function ve(){clearInterval(fe)}var ge=Z(function(t,e,n,o){if(e.scroll){var r,i=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,l=e.scrollSensitivity,s=e.scrollSpeed,u=$(),c=!1;se!==n&&(se=n,me(),le=e.scroll,r=e.scrollFn,!0===le&&(le=J(n,!0)));var d=0,f=le;do{var h=f,p=U(h),m=p.top,v=p.bottom,g=p.left,b=p.right,y=p.width,w=p.height,S=void 0,x=void 0,E=h.scrollWidth,D=h.scrollHeight,C=X(h),_=h.scrollLeft,T=h.scrollTop;h===u?(S=y<E&&("auto"===C.overflowX||"scroll"===C.overflowX||"visible"===C.overflowX),x=w<D&&("auto"===C.overflowY||"scroll"===C.overflowY||"visible"===C.overflowY)):(S=y<E&&("auto"===C.overflowX||"scroll"===C.overflowX),x=w<D&&("auto"===C.overflowY||"scroll"===C.overflowY));var N=S&&(Math.abs(b-i)<=l&&_+y<E)-(Math.abs(g-i)<=l&&!!_),O=x&&(Math.abs(v-a)<=l&&T+w<D)-(Math.abs(m-a)<=l&&!!T);if(!he[d])for(var I=0;I<=d;I++)he[I]||(he[I]={});he[d].vx==N&&he[d].vy==O&&he[d].el===h||(he[d].el=h,he[d].vx=N,he[d].vy=O,clearInterval(he[d].pid),0==N&&0==O||(c=!0,he[d].pid=setInterval(function(){o&&0===this.layer&&te.active._onTouchMove(de);var e=he[this.layer].vy?he[this.layer].vy*s:0,n=he[this.layer].vx?he[this.layer].vx*s:0;"function"==typeof r&&"continue"!==r.call(te.dragged.parentNode[ot],n,e,t,de,he[this.layer].el)||tt(he[this.layer].el,n,e)}.bind({layer:d}),24))),d++}while(e.bubbleScroll&&f!==u&&(f=J(f,!1)));pe=c}},30),be=function(t){var e=t.originalEvent,n=t.putSortable,o=t.dragEl,r=t.activeSortable,i=t.dispatchSortableEvent,a=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(e){var s=n||r;a();var u=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,c=document.elementFromPoint(u.clientX,u.clientY);l(),s&&!s.el.contains(c)&&(i("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function ye(){}function we(){}ye.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=q(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(e,o):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:be},D(ye,{pluginName:"revertOnSpill"}),we.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:be},D(we,{pluginName:"removeOnSpill"}),te.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?A(document,"dragover",this._handleAutoScroll):this.options.supportPointer?A(document,"pointermove",this._handleFallbackAutoScroll):e.touches?A(document,"touchmove",this._handleFallbackAutoScroll):A(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?P(document,"dragover",this._handleAutoScroll):(P(document,"pointermove",this._handleFallbackAutoScroll),P(document,"touchmove",this._handleFallbackAutoScroll),P(document,"mousemove",this._handleFallbackAutoScroll)),ve(),me(),clearTimeout(R),R=void 0},nulling:function(){de=se=le=pe=fe=ue=ce=null,he.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,o=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,i=document.elementFromPoint(o,r);if(de=t,e||this.options.forceAutoScrollFallback||T||_||O){ge(t,this.options,i,e);var a=J(i,!0);!pe||fe&&o===ue&&r===ce||(fe&&ve(),fe=setInterval(function(){var i=J(document.elementFromPoint(o,r),!0);i!==a&&(a=i,me()),ge(t,n.options,i,e)},10),ue=o,ce=r)}else{if(!this.options.bubbleScroll||J(i,!0)===$())return void me();ge(t,this.options,J(i,!1),!1)}}},D(t,{pluginName:"scroll",initializeByDefault:!0})}),te.mount(we,ye);const Se=te;var xe=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).loading=void 0,e.buttonsCustomizationList=void 0,e}r(n,t);var o=n.prototype;return o.oninit=function(e){t.prototype.oninit.call(this,e),this.loading=!1,this.buttonsCustomizationList=[],this.loadResults()},o.initSort=function(){var t=this,e=document.getElementById("buttonsCustomizationSortableItems");e&&Se.create(e,{animation:150,swapThreshold:.65,onEnd:function(e){return t.updateSort(e)}})},o.content=function(t){return p()("div",{className:"ExtensionPage-settings FlarumBadgesPage"},[p()("div",{className:"container"},[p()("div",{style:"padding-bottom:10px"},[p()(s(),{className:"Button",onclick:function(){return e().modal.show(m)}},e().translator.trans("client1-buttons-customization.admin.link-add"))]),p()("ul",{id:"buttonsCustomizationSortableItems",style:"padding:0px;list-style-type: none;",oncreate:this.initSort.bind(this)},this.buttonsCustomizationList.map(function(t){return p()("li",{"data-item-id":t.id(),style:"margin-top:5px;background: var(--body-bg);"},y.component({ButtonsCustomizationItemData:t}))}))])])},o.updateSort=function(t){if(t.newIndex!==t.oldIndex){var n,o=null==(n=t.from)?void 0:n.children,r={};if(o){for(var i=0;i<o.length;i++){var a=o[i].getAttribute("data-item-id");a&&(r[a]=i)}e().request({url:e().forum.attribute("apiUrl")+"/buttonsCustomizationList/order",method:"POST",body:{buttonsCustomizationOrder:r}})}}},o.parseResults=function(t){var e;return(e=this.buttonsCustomizationList).push.apply(e,t),p().redraw(),t},o.loadResults=function(){return e().store.find("buttonsCustomizationList").catch(function(){return[]}).then(this.parseResults.bind(this))},n}(a());const Ee=flarum.core.compat["common/Model"];var De=n.n(Ee),Ce=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).id=void 0,e.name=void 0,e.icon=void 0,e.color=void 0,e.url=void 0,e.sort=void 0,e}return r(e,t),e}(De());Object.assign(Ce.prototype,{id:De().attribute("id"),name:De().attribute("name"),icon:De().attribute("icon"),color:De().attribute("color"),url:De().attribute("url"),sort:De().attribute("sort")}),e().initializers.add("wusong8899-buttons-customization",function(){e().store.models.buttonsCustomizationList=Ce,e().extensionData.for("wusong8899-client1-buttons-customization").registerPage(xe)})})(),module.exports={}})();
//# sourceMappingURL=admin.js.map